{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\User\\\\Desktop\\\\ClinicaDentalVersionFinal\\\\Proyecto-Clinica-Dental\\\\donto-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\User\\\\Desktop\\\\ClinicaDentalVersionFinal\\\\Proyecto-Clinica-Dental\\\\donto-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\User\\\\Desktop\\\\ClinicaDentalVersionFinal\\\\Proyecto-Clinica-Dental\\\\donto-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\User\\\\Desktop\\\\ClinicaDentalVersionFinal\\\\Proyecto-Clinica-Dental\\\\donto-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\User\\\\Desktop\\\\ClinicaDentalVersionFinal\\\\Proyecto-Clinica-Dental\\\\donto-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\User\\\\Desktop\\\\ClinicaDentalVersionFinal\\\\Proyecto-Clinica-Dental\\\\donto-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withRouter}from'react-router';var BlogCardAdmin=/*#__PURE__*/function(_Component){_inherits(BlogCardAdmin,_Component);var _super=_createSuper(BlogCardAdmin);function BlogCardAdmin(props){var _this;_classCallCheck(this,BlogCardAdmin);_this=_super.call(this,props);_this.state={blogData:_this.props.BlogDataAdmin.postItem,selectedImages:{}};return _this;}_createClass(BlogCardAdmin,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(React.Fragment,null,this.state.blogData.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-lg-6 col-xl-4 col-sm-12\",key:item.id},/*#__PURE__*/React.createElement(\"div\",{className:\"single-blog-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"featured-thumb\"},/*#__PURE__*/React.createElement(\"img\",{src:_this2.state.selectedImages[item.id]||require(\"../../assets/img/blog/\"+item.imgUrl),alt:\"blog\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",onChange:function onChange(e){return _this2.handleImageChange(e,item.id);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"card-content\"},/*#__PURE__*/React.createElement(\"h3\",null,/*#__PURE__*/React.createElement(\"a\",{href:item.link,onClick:function onClick(e){return _this2.handleTextChange(e,item.id);}},item.title)),/*#__PURE__*/React.createElement(\"div\",{className:\"card-meta\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"span\",null,\"Post by: \",item.author)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"span\",null,item.date))),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this2.navigateToDetails(item.id);}},\"Detalles\"),\" \",/*#__PURE__*/React.createElement(React.Fragment,null),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this2.deleteCard(item.id);}},\"Eliminar\"))));}));}},{key:\"handleImageChange\",value:function handleImageChange(event,blogId){var file=event.target.files[0];if(file){var imageURL=URL.createObjectURL(file);var selectedImages=_objectSpread(_objectSpread({},this.state.selectedImages),{},_defineProperty({},blogId,imageURL));this.setState({selectedImages:selectedImages});// Realizar una solicitud PUT para actualizar la imagen en el servidor\nfetch(\"/update-image/\".concat(blogId),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({imgUrl:file.name})}).then(function(response){return response.json();}).then(function(data){console.log(data);}).catch(function(error){console.error(error);});}}},{key:\"handleTextChange\",value:function handleTextChange(event,blogId){event.preventDefault();var updatedBlogData=this.state.blogData.map(function(item){if(item.id===blogId){var newText=prompt('Edit the text:',item.title);if(newText!==null){// Realizar una solicitud PUT para actualizar el título en el servidor\nfetch(\"/update-title/\".concat(blogId),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({title:newText})}).then(function(response){return response.json();}).then(function(data){console.log(data);}).catch(function(error){console.error(error);});return _objectSpread(_objectSpread({},item),{},{title:newText});}}return item;});this.setState({blogData:updatedBlogData});}},{key:\"navigateToDetails\",value:function navigateToDetails(blogId){// Navegar a la ruta BlogAdmin/BlogDetailsAdmin con el ID del blog\n// Utiliza this.props.history.push para acceder al historial de navegación\nwindow.location.href=\"/BlogAdmin/BlogDetailsAdmin/\".concat(blogId);}},{key:\"deleteCard\",value:function deleteCard(blogId){var _this3=this;// Realiza una solicitud DELETE al servidor para eliminar la tarjeta con el ID dado\nfetch(\"/delete-card/\".concat(blogId),{method:'DELETE'}).then(function(response){return response.json();}).then(function(data){if(data.success){// Si la eliminación es exitosa, actualiza el estado para reflejar el cambio\nvar updatedBlogData=_this3.state.blogData.filter(function(item){return item.id!==blogId;});_this3.setState({blogData:updatedBlogData});}}).catch(function(error){console.error(error);});}}]);return BlogCardAdmin;}(Component);export default BlogCardAdmin;","map":{"version":3,"names":["React","Component","withRouter","BlogCardAdmin","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","blogData","BlogDataAdmin","postItem","selectedImages","_createClass","key","value","render","_this2","createElement","Fragment","map","item","className","id","src","require","imgUrl","alt","type","onChange","e","handleImageChange","href","link","onClick","handleTextChange","title","author","date","navigateToDetails","deleteCard","event","blogId","file","target","files","imageURL","URL","createObjectURL","_objectSpread","_defineProperty","setState","fetch","concat","method","headers","body","JSON","stringify","name","then","response","json","data","console","log","catch","error","preventDefault","updatedBlogData","newText","prompt","window","location","_this3","success","filter"],"sources":["C:/Users/User/Desktop/ClinicaDentalVersionFinal/Proyecto-Clinica-Dental/donto-react/src/Components/BlogAdmin/BlogCardAdmin.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\n\nclass BlogCardAdmin extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            blogData: this.props.BlogDataAdmin.postItem,\n            selectedImages: {},\n        };\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                {this.state.blogData.map(item => (\n                    <div className=\"col-md-6 col-lg-6 col-xl-4 col-sm-12\" key={item.id}>\n                        <div className=\"single-blog-card\">\n                            <div className=\"featured-thumb\">\n                                <img\n                                    src={this.state.selectedImages[item.id] || require(\"../../assets/img/blog/\" + item.imgUrl)}\n                                    alt=\"blog\"\n                                />\n                                <input\n                                    type=\"file\"\n                                    onChange={e => this.handleImageChange(e, item.id)}\n                                />\n                            </div>\n                            <div className=\"card-content\">\n                                <h3>\n                                    <a href={item.link} onClick={e => this.handleTextChange(e, item.id)}>\n                                        {item.title}\n                                    </a>\n                                </h3>\n                                <div className=\"card-meta\">\n                                    <div className=\"col-6\">\n                                        <span>Post by: {item.author}</span>\n                                    </div>\n                                    <div className=\"col-6\">\n                                        <span>{item.date}</span>\n                                    </div>\n                                </div>\n                                <button onClick={() => this.navigateToDetails(item.id)}>Detalles</button> <></>\n                                <button onClick={() => this.deleteCard(item.id)}>Eliminar</button>\n                                \n                            </div>\n                        </div>\n                    </div>\n                ))}\n            </React.Fragment>\n        );\n    }\n    handleImageChange(event, blogId) {\n        const file = event.target.files[0];\n        if (file) {\n            const imageURL = URL.createObjectURL(file);\n            const selectedImages = { ...this.state.selectedImages, [blogId]: imageURL };\n            this.setState({ selectedImages });\n\n            // Realizar una solicitud PUT para actualizar la imagen en el servidor\n            fetch(`/update-image/${blogId}`, {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ imgUrl: file.name }),\n            })\n                .then(response => response.json())\n                .then(data => {\n                    console.log(data);\n                })\n                .catch(error => {\n                    console.error(error);\n                });\n        }\n    }\n\n    handleTextChange(event, blogId) {\n        event.preventDefault();\n        const updatedBlogData = this.state.blogData.map(item => {\n            if (item.id === blogId) {\n                const newText = prompt('Edit the text:', item.title);\n                if (newText !== null) {\n                    // Realizar una solicitud PUT para actualizar el título en el servidor\n                    fetch(`/update-title/${blogId}`, {\n                        method: 'PUT',\n                        headers: {\n                            'Content-Type': 'application/json',\n                        },\n                        body: JSON.stringify({ title: newText }),\n                    })\n                        .then(response => response.json())\n                        .then(data => {\n                            console.log(data);\n                        })\n                        .catch(error => {\n                            console.error(error);\n                        });\n\n                    return { ...item, title: newText };\n                }\n            }\n            return item;\n        });\n        this.setState({ blogData: updatedBlogData });\n    }\n\n\n    navigateToDetails(blogId) {\n        // Navegar a la ruta BlogAdmin/BlogDetailsAdmin con el ID del blog\n        // Utiliza this.props.history.push para acceder al historial de navegación\n        window.location.href = `/BlogAdmin/BlogDetailsAdmin/${blogId}`;\n    }\n\n\n\n\n    deleteCard(blogId) {\n        // Realiza una solicitud DELETE al servidor para eliminar la tarjeta con el ID dado\n        fetch(`/delete-card/${blogId}`, {\n            method: 'DELETE',\n        })\n            .then(response => response.json())\n            .then(data => {\n                if (data.success) {\n                    // Si la eliminación es exitosa, actualiza el estado para reflejar el cambio\n                    const updatedBlogData = this.state.blogData.filter(item => item.id !== blogId);\n                    this.setState({ blogData: updatedBlogData });\n                }\n            })\n            .catch(error => {\n                console.error(error);\n            });\n    }\n\n}\n\nexport default BlogCardAdmin;\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}