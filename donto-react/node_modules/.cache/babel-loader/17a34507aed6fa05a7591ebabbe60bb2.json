{"ast":null,"code":"/* eslint-disable valid-jsdoc */\n/* eslint-disable security/detect-object-injection */\nimport { DataUtil } from './util';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\r\n * Query class is used to build query which is used by the DataManager to communicate with datasource.\r\n */\nvar Query = /** @class */function () {\n  /**\r\n   * Constructor for Query class.\r\n   *\r\n   * @param {string|string[]} from?\r\n   * @param from\r\n   * @hidden\r\n   */\n  function Query(from) {\n    /** @hidden */\n    this.subQuery = null;\n    /** @hidden */\n    this.isChild = false;\n    /** @hidden */\n    this.distincts = [];\n    this.queries = [];\n    this.key = '';\n    this.fKey = '';\n    if (typeof from === 'string') {\n      this.fromTable = from;\n    } else if (from && from instanceof Array) {\n      this.lookups = from;\n    }\n    this.expands = [];\n    this.sortedColumns = [];\n    this.groupedColumns = [];\n    this.subQuery = null;\n    this.isChild = false;\n    this.params = [];\n    this.lazyLoad = [];\n    return this;\n  }\n  /**\r\n   * Sets the primary key.\r\n   *\r\n   * @param  {string} field - Defines the column field.\r\n   */\n  Query.prototype.setKey = function (field) {\n    this.key = field;\n    return this;\n  };\n  /**\r\n   * Sets default DataManager to execute query.\r\n   *\r\n   * @param  {DataManager} dataManager - Defines the DataManager.\r\n   */\n  Query.prototype.using = function (dataManager) {\n    this.dataManager = dataManager;\n    return this;\n  };\n  /**\r\n   * Executes query with the given DataManager.\r\n   *\r\n   * @param  {DataManager} dataManager - Defines the DataManager.\r\n   * @param  {Function} done - Defines the success callback.\r\n   * @param  {Function} fail - Defines the failure callback.\r\n   * @param  {Function} always - Defines the callback which will be invoked on either success or failure.\r\n   *\r\n   * <pre>\r\n   * let dataManager: DataManager = new DataManager([{ ID: '10' }, { ID: '2' }, { ID: '1' }, { ID: '20' }]);\r\n   * let query: Query = new Query();\r\n   * query.sortBy('ID', (x: string, y: string): number => { return parseInt(x, 10) - parseInt(y, 10) });\r\n   * let promise: Promise< Object > = query.execute(dataManager);\r\n   * promise.then((e: { result: Object }) => { });\r\n   * </pre>\r\n   */\n  Query.prototype.execute = function (dataManager, done, fail, always) {\n    dataManager = dataManager || this.dataManager;\n    if (dataManager) {\n      return dataManager.executeQuery(this, done, fail, always);\n    }\n    return DataUtil.throwError('Query - execute() : dataManager needs to be is set using \"using\" function or should be passed as argument');\n  };\n  /**\r\n   * Executes query with the local datasource.\r\n   *\r\n   * @param  {DataManager} dataManager - Defines the DataManager.\r\n   */\n  Query.prototype.executeLocal = function (dataManager) {\n    dataManager = dataManager || this.dataManager;\n    if (dataManager) {\n      return dataManager.executeLocal(this);\n    }\n    return DataUtil.throwError('Query - executeLocal() : dataManager needs to be is set using \"using\" function or should be passed as argument');\n  };\n  /**\r\n   * Creates deep copy of the Query object.\r\n   */\n  Query.prototype.clone = function () {\n    var cloned = new Query();\n    cloned.queries = this.queries.slice(0);\n    cloned.key = this.key;\n    cloned.isChild = this.isChild;\n    cloned.dataManager = this.dataManager;\n    cloned.fromTable = this.fromTable;\n    cloned.params = this.params.slice(0);\n    cloned.expands = this.expands.slice(0);\n    cloned.sortedColumns = this.sortedColumns.slice(0);\n    cloned.groupedColumns = this.groupedColumns.slice(0);\n    cloned.subQuerySelector = this.subQuerySelector;\n    cloned.subQuery = this.subQuery;\n    cloned.fKey = this.fKey;\n    cloned.isCountRequired = this.isCountRequired;\n    cloned.distincts = this.distincts.slice(0);\n    cloned.lazyLoad = this.lazyLoad.slice(0);\n    return cloned;\n  };\n  /**\r\n   * Specifies the name of table to retrieve data in query execution.\r\n   *\r\n   * @param  {string} tableName - Defines the table name.\r\n   */\n  Query.prototype.from = function (tableName) {\n    this.fromTable = tableName;\n    return this;\n  };\n  /**\r\n   * Adds additional parameter which will be sent along with the request which will be generated while DataManager execute.\r\n   *\r\n   * @param  {string} key - Defines the key of additional parameter.\r\n   * @param  {Function|string} value - Defines the value for the key.\r\n   */\n  Query.prototype.addParams = function (key, value) {\n    if (typeof value === 'function') {\n      this.params.push({\n        key: key,\n        fn: value\n      });\n    } else {\n      this.params.push({\n        key: key,\n        value: value\n      });\n    }\n    return this;\n  };\n  /**\r\n   * @param fields\r\n   * @hidden\r\n   */\n  Query.prototype.distinct = function (fields) {\n    if (typeof fields === 'string') {\n      this.distincts = [].slice.call([fields], 0);\n    } else {\n      this.distincts = fields.slice(0);\n    }\n    return this;\n  };\n  /**\r\n   * Expands the related table.\r\n   *\r\n   * @param  {string|Object[]} tables\r\n   */\n  Query.prototype.expand = function (tables) {\n    if (typeof tables === 'string') {\n      this.expands = [].slice.call([tables], 0);\n    } else {\n      this.expands = tables.slice(0);\n    }\n    return this;\n  };\n  /**\r\n   * Filter data with given filter criteria.\r\n   *\r\n   * @param {string|Predicate} fieldName - Defines the column field or Predicate.\r\n   * @param {string} operator - Defines the operator how to filter data.\r\n   * @param {string|number|boolean} value - Defines the values to match with data.\r\n   * @param {boolean} ignoreCase - If ignore case set to false, then filter data with exact match or else\r\n   * filter data with case insensitive.\r\n   * @param ignoreAccent\r\n   * @param matchCase\r\n   */\n  Query.prototype.where = function (fieldName, operator, value, ignoreCase, ignoreAccent, matchCase) {\n    operator = operator ? operator.toLowerCase() : null;\n    var predicate = null;\n    if (typeof fieldName === 'string') {\n      predicate = new Predicate(fieldName, operator, value, ignoreCase, ignoreAccent, matchCase);\n    } else if (fieldName instanceof Predicate) {\n      predicate = fieldName;\n    }\n    this.queries.push({\n      fn: 'onWhere',\n      e: predicate\n    });\n    return this;\n  };\n  /**\r\n   * Search data with given search criteria.\r\n   *\r\n   * @param {string|number|boolean} searchKey - Defines the search key.\r\n   * @param {string|string[]} fieldNames - Defines the collection of column fields.\r\n   * @param {string} operator - Defines the operator how to search data.\r\n   * @param {boolean} ignoreCase - If ignore case set to false, then filter data with exact match or else\r\n   * filter data with case insensitive.\r\n   * @param ignoreAccent\r\n   */\n  Query.prototype.search = function (searchKey, fieldNames, operator, ignoreCase, ignoreAccent) {\n    if (typeof fieldNames === 'string') {\n      fieldNames = [fieldNames];\n    }\n    if (!operator || operator === 'none') {\n      operator = 'contains';\n    }\n    var comparer = DataUtil.fnOperators[operator];\n    this.queries.push({\n      fn: 'onSearch',\n      e: {\n        fieldNames: fieldNames,\n        operator: operator,\n        searchKey: searchKey,\n        ignoreCase: ignoreCase,\n        ignoreAccent: ignoreAccent,\n        comparer: comparer\n      }\n    });\n    return this;\n  };\n  /**\r\n   * Sort the data with given sort criteria.\r\n   * By default, sort direction is ascending.\r\n   *\r\n   * @param {string|string[]} fieldName - Defines the single or collection of column fields.\r\n   * @param {string|Function} comparer - Defines the sort direction or custom sort comparer function.\r\n   * @param isFromGroup\r\n   */\n  Query.prototype.sortBy = function (fieldName, comparer, isFromGroup) {\n    return this.sortByForeignKey(fieldName, comparer, isFromGroup);\n  };\n  /**\r\n   * Sort the data with given sort criteria.\r\n   * By default, sort direction is ascending.\r\n   *\r\n   * @param {string|string[]} fieldName - Defines the single or collection of column fields.\r\n   * @param {string|Function} comparer - Defines the sort direction or custom sort comparer function.\r\n   * @param isFromGroup\r\n   * @param {string} direction - Defines the sort direction .\r\n   */\n  Query.prototype.sortByForeignKey = function (fieldName, comparer, isFromGroup, direction) {\n    var order = !isNullOrUndefined(direction) ? direction : 'ascending';\n    var sorts;\n    var temp;\n    if (typeof fieldName === 'string' && DataUtil.endsWith(fieldName.toLowerCase(), ' desc')) {\n      fieldName = fieldName.replace(/ desc$/i, '');\n      comparer = 'descending';\n    }\n    if (!comparer || typeof comparer === 'string') {\n      order = comparer ? comparer.toLowerCase() : 'ascending';\n      comparer = DataUtil.fnSort(comparer);\n    }\n    if (isFromGroup) {\n      sorts = Query.filterQueries(this.queries, 'onSortBy');\n      for (var i = 0; i < sorts.length; i++) {\n        temp = sorts[i].e.fieldName;\n        if (typeof temp === 'string') {\n          if (temp === fieldName) {\n            return this;\n          }\n        } else if (temp instanceof Array) {\n          for (var j = 0; j < temp.length; j++) {\n            if (temp[j] === fieldName || fieldName.toLowerCase() === temp[j] + ' desc') {\n              return this;\n            }\n          }\n        }\n      }\n    }\n    this.queries.push({\n      fn: 'onSortBy',\n      e: {\n        fieldName: fieldName,\n        comparer: comparer,\n        direction: order\n      }\n    });\n    return this;\n  };\n  /**\r\n   * Sorts data in descending order.\r\n   *\r\n   * @param  {string} fieldName - Defines the column field.\r\n   */\n  Query.prototype.sortByDesc = function (fieldName) {\n    return this.sortBy(fieldName, 'descending');\n  };\n  /**\r\n   * Groups data with the given field name.\r\n   *\r\n   * @param {string} fieldName - Defines the column field.\r\n   * @param fn\r\n   * @param format\r\n   */\n  Query.prototype.group = function (fieldName, fn, format) {\n    this.sortBy(fieldName, null, true);\n    this.queries.push({\n      fn: 'onGroup',\n      e: {\n        fieldName: fieldName,\n        comparer: fn ? fn : null,\n        format: format ? format : null\n      }\n    });\n    return this;\n  };\n  /**\r\n   * Gets data based on the given page index and size.\r\n   *\r\n   * @param  {number} pageIndex - Defines the current page index.\r\n   * @param  {number} pageSize - Defines the no of records per page.\r\n   */\n  Query.prototype.page = function (pageIndex, pageSize) {\n    this.queries.push({\n      fn: 'onPage',\n      e: {\n        pageIndex: pageIndex,\n        pageSize: pageSize\n      }\n    });\n    return this;\n  };\n  /**\r\n   * Gets data based on the given start and end index.\r\n   *\r\n   * @param  {number} start - Defines the start index of the datasource.\r\n   * @param  {number} end - Defines the end index of the datasource.\r\n   */\n  Query.prototype.range = function (start, end) {\n    this.queries.push({\n      fn: 'onRange',\n      e: {\n        start: start,\n        end: end\n      }\n    });\n    return this;\n  };\n  /**\r\n   * Gets data from the top of the data source based on given number of records count.\r\n   *\r\n   * @param  {number} nos - Defines the no of records to retrieve from datasource.\r\n   */\n  Query.prototype.take = function (nos) {\n    this.queries.push({\n      fn: 'onTake',\n      e: {\n        nos: nos\n      }\n    });\n    return this;\n  };\n  /**\r\n   * Skips data with given number of records count from the top of the data source.\r\n   *\r\n   * @param  {number} nos - Defines the no of records skip in the datasource.\r\n   */\n  Query.prototype.skip = function (nos) {\n    this.queries.push({\n      fn: 'onSkip',\n      e: {\n        nos: nos\n      }\n    });\n    return this;\n  };\n  /**\r\n   * Selects specified columns from the data source.\r\n   *\r\n   * @param  {string|string[]} fieldNames - Defines the collection of column fields.\r\n   */\n  Query.prototype.select = function (fieldNames) {\n    if (typeof fieldNames === 'string') {\n      fieldNames = [].slice.call([fieldNames], 0);\n    }\n    this.queries.push({\n      fn: 'onSelect',\n      e: {\n        fieldNames: fieldNames\n      }\n    });\n    return this;\n  };\n  /**\r\n   * Gets the records in hierarchical relationship from two tables. It requires the foreign key to relate two tables.\r\n   *\r\n   * @param  {Query} query - Defines the query to relate two tables.\r\n   * @param  {Function} selectorFn - Defines the custom function to select records.\r\n   */\n  Query.prototype.hierarchy = function (query, selectorFn) {\n    this.subQuerySelector = selectorFn;\n    this.subQuery = query;\n    return this;\n  };\n  /**\r\n   * Sets the foreign key which is used to get data from the related table.\r\n   *\r\n   * @param  {string} key - Defines the foreign key.\r\n   */\n  Query.prototype.foreignKey = function (key) {\n    this.fKey = key;\n    return this;\n  };\n  /**\r\n   * It is used to get total number of records in the DataManager execution result.\r\n   */\n  Query.prototype.requiresCount = function () {\n    this.isCountRequired = true;\n    return this;\n  };\n  //type - sum, avg, min, max\n  /**\r\n   * Aggregate the data with given type and field name.\r\n   *\r\n   * @param  {string} type - Defines the aggregate type.\r\n   * @param  {string} field - Defines the column field to aggregate.\r\n   */\n  Query.prototype.aggregate = function (type, field) {\n    this.queries.push({\n      fn: 'onAggregates',\n      e: {\n        field: field,\n        type: type\n      }\n    });\n    return this;\n  };\n  /**\r\n   * Pass array of filterColumn query for performing filter operation.\r\n   *\r\n   * @param  {QueryOptions[]} queries\r\n   * @param  {string} name\r\n   * @hidden\r\n   */\n  Query.filterQueries = function (queries, name) {\n    return queries.filter(function (q) {\n      return q.fn === name;\n    });\n  };\n  /**\r\n   * To get the list of queries which is already filtered in current data source.\r\n   *\r\n   * @param  {Object[]} queries\r\n   * @param  {string[]} singles\r\n   * @hidden\r\n   */\n  Query.filterQueryLists = function (queries, singles) {\n    var filtered = queries.filter(function (q) {\n      return singles.indexOf(q.fn) !== -1;\n    });\n    var res = {};\n    for (var i = 0; i < filtered.length; i++) {\n      if (!res[filtered[i].fn]) {\n        res[filtered[i].fn] = filtered[i].e;\n      }\n    }\n    return res;\n  };\n  return Query;\n}();\nexport { Query };\n/**\r\n * Predicate class is used to generate complex filter criteria.\r\n * This will be used by DataManager to perform multiple filtering operation.\r\n */\nvar Predicate = /** @class */function () {\n  /**\r\n   * Constructor for Predicate class.\r\n   *\r\n   * @param {string|Predicate} field\r\n   * @param {string} operator\r\n   * @param {string|number|boolean|Predicate|Predicate[]} value\r\n   * @param {boolean=false} ignoreCase\r\n   * @param ignoreAccent\r\n   * @param {boolean} matchCase\r\n   * @hidden\r\n   */\n  function Predicate(field, operator, value, ignoreCase, ignoreAccent, matchCase) {\n    if (ignoreCase === void 0) {\n      ignoreCase = false;\n    }\n    /** @hidden */\n    this.ignoreAccent = false;\n    /** @hidden */\n    this.isComplex = false;\n    if (typeof field === 'string') {\n      this.field = field;\n      this.operator = operator.toLowerCase();\n      this.value = value;\n      this.matchCase = matchCase;\n      this.ignoreCase = ignoreCase;\n      this.ignoreAccent = ignoreAccent;\n      this.isComplex = false;\n      this.comparer = DataUtil.fnOperators.processOperator(this.operator);\n    } else if (field instanceof Predicate && value instanceof Predicate || value instanceof Array) {\n      this.isComplex = true;\n      this.condition = operator.toLowerCase();\n      this.predicates = [field];\n      this.matchCase = field.matchCase;\n      this.ignoreCase = field.ignoreCase;\n      this.ignoreAccent = field.ignoreAccent;\n      if (value instanceof Array) {\n        [].push.apply(this.predicates, value);\n      } else {\n        this.predicates.push(value);\n      }\n    }\n    return this;\n  }\n  /**\r\n   * Adds n-number of new predicates on existing predicate with “and” condition.\r\n   *\r\n   * @param  {Object[]} args - Defines the collection of predicates.\r\n   */\n  Predicate.and = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    return Predicate.combinePredicates([].slice.call(args, 0), 'and');\n  };\n  /**\r\n   * Adds new predicate on existing predicate with “and” condition.\r\n   *\r\n   * @param {string} field - Defines the column field.\r\n   * @param {string} operator - Defines the operator how to filter data.\r\n   * @param {string} value - Defines the values to match with data.\r\n   * @param {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\r\n   * filter data with case insensitive.\r\n   * @param ignoreCase\r\n   * @param ignoreAccent\r\n   */\n  Predicate.prototype.and = function (field, operator, value, ignoreCase, ignoreAccent) {\n    return Predicate.combine(this, field, operator, value, 'and', ignoreCase, ignoreAccent);\n  };\n  /**\r\n   * Adds n-number of new predicates on existing predicate with “or” condition.\r\n   *\r\n   * @param  {Object[]} args - Defines the collection of predicates.\r\n   */\n  Predicate.or = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    return Predicate.combinePredicates([].slice.call(args, 0), 'or');\n  };\n  /**\r\n   * Adds new predicate on existing predicate with “or” condition.\r\n   *\r\n   * @param {string} field - Defines the column field.\r\n   * @param {string} operator - Defines the operator how to filter data.\r\n   * @param {string} value - Defines the values to match with data.\r\n   * @param {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\r\n   * filter data with case insensitive.\r\n   * @param ignoreCase\r\n   * @param ignoreAccent\r\n   */\n  Predicate.prototype.or = function (field, operator, value, ignoreCase, ignoreAccent) {\n    return Predicate.combine(this, field, operator, value, 'or', ignoreCase, ignoreAccent);\n  };\n  /**\r\n   * Adds n-number of new predicates on existing predicate with “and not” condition.\r\n   *\r\n   * @param  {Object[]} args - Defines the collection of predicates.\r\n   */\n  Predicate.ornot = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    return Predicate.combinePredicates([].slice.call(args, 0), 'or not');\n  };\n  /**\r\n   * Adds new predicate on existing predicate with “and not” condition.\r\n   *\r\n   * @param {string} field - Defines the column field.\r\n   * @param {string} operator - Defines the operator how to filter data.\r\n   * @param {string} value - Defines the values to match with data.\r\n   * @param {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\r\n   * filter data with case insensitive.\r\n   * @param ignoreCase\r\n   * @param ignoreAccent\r\n   */\n  Predicate.prototype.ornot = function (field, operator, value, ignoreCase, ignoreAccent) {\n    return Predicate.combine(this, field, operator, value, 'ornot', ignoreCase, ignoreAccent);\n  };\n  /**\r\n   * Adds n-number of new predicates on existing predicate with “and not” condition.\r\n   *\r\n   * @param  {Object[]} args - Defines the collection of predicates.\r\n   */\n  Predicate.andnot = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    return Predicate.combinePredicates([].slice.call(args, 0), 'and not');\n  };\n  /**\r\n   * Adds new predicate on existing predicate with “and not” condition.\r\n   *\r\n   * @param {string} field - Defines the column field.\r\n   * @param {string} operator - Defines the operator how to filter data.\r\n   * @param {string} value - Defines the values to match with data.\r\n   * @param {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\r\n   * filter data with case insensitive.\r\n   * @param ignoreCase\r\n   * @param ignoreAccent\r\n   */\n  Predicate.prototype.andnot = function (field, operator, value, ignoreCase, ignoreAccent) {\n    return Predicate.combine(this, field, operator, value, 'andnot', ignoreCase, ignoreAccent);\n  };\n  /**\r\n   * Converts plain JavaScript object to Predicate object.\r\n   *\r\n   * @param  {Predicate[]|Predicate} json - Defines single or collection of Predicate.\r\n   */\n  Predicate.fromJson = function (json) {\n    if (json instanceof Array) {\n      var res = [];\n      for (var i = 0, len = json.length; i < len; i++) {\n        res.push(this.fromJSONData(json[i]));\n      }\n      return res;\n    }\n    var pred = json;\n    return this.fromJSONData(pred);\n  };\n  /**\r\n   * Validate the record based on the predicates.\r\n   *\r\n   * @param  {Object} record - Defines the datasource record.\r\n   */\n  Predicate.prototype.validate = function (record) {\n    var predicate = this.predicates ? this.predicates : [];\n    var ret;\n    var isAnd;\n    if (!this.isComplex && this.comparer) {\n      if (this.condition && this.condition.indexOf('not') !== -1) {\n        this.condition = this.condition.split('not')[0] === '' ? undefined : this.condition.split('not')[0];\n        return !this.comparer.call(this, DataUtil.getObject(this.field, record), this.value, this.ignoreCase, this.ignoreAccent);\n      } else {\n        return this.comparer.call(this, DataUtil.getObject(this.field, record), this.value, this.ignoreCase, this.ignoreAccent);\n      }\n    }\n    if (this.condition && this.condition.indexOf('not') !== -1) {\n      isAnd = this.condition.indexOf('and') !== -1;\n    } else {\n      isAnd = this.condition === 'and';\n    }\n    for (var i = 0; i < predicate.length; i++) {\n      if (i > 0 && this.condition && this.condition.indexOf('not') !== -1) {\n        predicate[i].condition = predicate[i].condition ? predicate[i].condition + 'not' : 'not';\n      }\n      ret = predicate[i].validate(record);\n      if (isAnd) {\n        if (!ret) {\n          return false;\n        }\n      } else {\n        if (ret) {\n          return true;\n        }\n      }\n    }\n    return isAnd;\n  };\n  /**\r\n   * Converts predicates to plain JavaScript.\r\n   * This method is uses Json stringify when serializing Predicate object.\r\n   */\n  Predicate.prototype.toJson = function () {\n    var predicates;\n    var p;\n    if (this.isComplex) {\n      predicates = [];\n      p = this.predicates;\n      for (var i = 0; i < p.length; i++) {\n        predicates.push(p[i].toJson());\n      }\n    }\n    return {\n      isComplex: this.isComplex,\n      field: this.field,\n      operator: this.operator,\n      value: this.value,\n      ignoreCase: this.ignoreCase,\n      ignoreAccent: this.ignoreAccent,\n      condition: this.condition,\n      predicates: predicates,\n      matchCase: this.matchCase\n    };\n  };\n  Predicate.combinePredicates = function (predicates, operator) {\n    if (predicates.length === 1) {\n      if (!(predicates[0] instanceof Array)) {\n        return predicates[0];\n      }\n      predicates = predicates[0];\n    }\n    return new Predicate(predicates[0], operator, predicates.slice(1));\n  };\n  Predicate.combine = function (pred, field, operator, value, condition, ignoreCase, ignoreAccent) {\n    if (field instanceof Predicate) {\n      return Predicate[condition](pred, field);\n    }\n    if (typeof field === 'string') {\n      return Predicate[condition](pred, new Predicate(field, operator, value, ignoreCase, ignoreAccent));\n    }\n    return DataUtil.throwError('Predicate - ' + condition + ' : invalid arguments');\n  };\n  Predicate.fromJSONData = function (json) {\n    var preds = json.predicates || [];\n    var len = preds.length;\n    var predicates = [];\n    var result;\n    for (var i = 0; i < len; i++) {\n      predicates.push(this.fromJSONData(preds[i]));\n    }\n    if (!json.isComplex) {\n      result = new Predicate(json.field, json.operator, json.value, json.ignoreCase, json.ignoreAccent);\n    } else {\n      result = new Predicate(predicates[0], json.condition, predicates.slice(1));\n    }\n    return result;\n  };\n  return Predicate;\n}();\nexport { Predicate };","map":{"version":3,"names":["DataUtil","isNullOrUndefined","Query","from","subQuery","isChild","distincts","queries","key","fKey","fromTable","Array","lookups","expands","sortedColumns","groupedColumns","params","lazyLoad","prototype","setKey","field","using","dataManager","execute","done","fail","always","executeQuery","throwError","executeLocal","clone","cloned","slice","subQuerySelector","isCountRequired","tableName","addParams","value","push","fn","distinct","fields","call","expand","tables","where","fieldName","operator","ignoreCase","ignoreAccent","matchCase","toLowerCase","predicate","Predicate","e","search","searchKey","fieldNames","comparer","fnOperators","sortBy","isFromGroup","sortByForeignKey","direction","order","sorts","temp","endsWith","replace","fnSort","filterQueries","i","length","j","sortByDesc","group","format","page","pageIndex","pageSize","range","start","end","take","nos","skip","select","hierarchy","query","selectorFn","foreignKey","requiresCount","aggregate","type","name","filter","q","filterQueryLists","singles","filtered","indexOf","res","isComplex","processOperator","condition","predicates","apply","and","args","_i","arguments","combinePredicates","combine","or","ornot","andnot","fromJson","json","len","fromJSONData","pred","validate","record","ret","isAnd","split","undefined","getObject","toJson","p","preds","result"],"sources":["C:/Users/User/Desktop/ClinicaDentalVersionFinal/Proyecto-Clinica-Dental/donto-react/node_modules/@syncfusion/ej2-data/src/query.js"],"sourcesContent":["/* eslint-disable valid-jsdoc */\r\n/* eslint-disable security/detect-object-injection */\r\nimport { DataUtil } from './util';\r\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\r\n/**\r\n * Query class is used to build query which is used by the DataManager to communicate with datasource.\r\n */\r\nvar Query = /** @class */ (function () {\r\n    /**\r\n     * Constructor for Query class.\r\n     *\r\n     * @param {string|string[]} from?\r\n     * @param from\r\n     * @hidden\r\n     */\r\n    function Query(from) {\r\n        /** @hidden */\r\n        this.subQuery = null;\r\n        /** @hidden */\r\n        this.isChild = false;\r\n        /** @hidden */\r\n        this.distincts = [];\r\n        this.queries = [];\r\n        this.key = '';\r\n        this.fKey = '';\r\n        if (typeof from === 'string') {\r\n            this.fromTable = from;\r\n        }\r\n        else if (from && from instanceof Array) {\r\n            this.lookups = from;\r\n        }\r\n        this.expands = [];\r\n        this.sortedColumns = [];\r\n        this.groupedColumns = [];\r\n        this.subQuery = null;\r\n        this.isChild = false;\r\n        this.params = [];\r\n        this.lazyLoad = [];\r\n        return this;\r\n    }\r\n    /**\r\n     * Sets the primary key.\r\n     *\r\n     * @param  {string} field - Defines the column field.\r\n     */\r\n    Query.prototype.setKey = function (field) {\r\n        this.key = field;\r\n        return this;\r\n    };\r\n    /**\r\n     * Sets default DataManager to execute query.\r\n     *\r\n     * @param  {DataManager} dataManager - Defines the DataManager.\r\n     */\r\n    Query.prototype.using = function (dataManager) {\r\n        this.dataManager = dataManager;\r\n        return this;\r\n    };\r\n    /**\r\n     * Executes query with the given DataManager.\r\n     *\r\n     * @param  {DataManager} dataManager - Defines the DataManager.\r\n     * @param  {Function} done - Defines the success callback.\r\n     * @param  {Function} fail - Defines the failure callback.\r\n     * @param  {Function} always - Defines the callback which will be invoked on either success or failure.\r\n     *\r\n     * <pre>\r\n     * let dataManager: DataManager = new DataManager([{ ID: '10' }, { ID: '2' }, { ID: '1' }, { ID: '20' }]);\r\n     * let query: Query = new Query();\r\n     * query.sortBy('ID', (x: string, y: string): number => { return parseInt(x, 10) - parseInt(y, 10) });\r\n     * let promise: Promise< Object > = query.execute(dataManager);\r\n     * promise.then((e: { result: Object }) => { });\r\n     * </pre>\r\n     */\r\n    Query.prototype.execute = function (dataManager, done, fail, always) {\r\n        dataManager = dataManager || this.dataManager;\r\n        if (dataManager) {\r\n            return dataManager.executeQuery(this, done, fail, always);\r\n        }\r\n        return DataUtil.throwError('Query - execute() : dataManager needs to be is set using \"using\" function or should be passed as argument');\r\n    };\r\n    /**\r\n     * Executes query with the local datasource.\r\n     *\r\n     * @param  {DataManager} dataManager - Defines the DataManager.\r\n     */\r\n    Query.prototype.executeLocal = function (dataManager) {\r\n        dataManager = dataManager || this.dataManager;\r\n        if (dataManager) {\r\n            return dataManager.executeLocal(this);\r\n        }\r\n        return DataUtil.throwError('Query - executeLocal() : dataManager needs to be is set using \"using\" function or should be passed as argument');\r\n    };\r\n    /**\r\n     * Creates deep copy of the Query object.\r\n     */\r\n    Query.prototype.clone = function () {\r\n        var cloned = new Query();\r\n        cloned.queries = this.queries.slice(0);\r\n        cloned.key = this.key;\r\n        cloned.isChild = this.isChild;\r\n        cloned.dataManager = this.dataManager;\r\n        cloned.fromTable = this.fromTable;\r\n        cloned.params = this.params.slice(0);\r\n        cloned.expands = this.expands.slice(0);\r\n        cloned.sortedColumns = this.sortedColumns.slice(0);\r\n        cloned.groupedColumns = this.groupedColumns.slice(0);\r\n        cloned.subQuerySelector = this.subQuerySelector;\r\n        cloned.subQuery = this.subQuery;\r\n        cloned.fKey = this.fKey;\r\n        cloned.isCountRequired = this.isCountRequired;\r\n        cloned.distincts = this.distincts.slice(0);\r\n        cloned.lazyLoad = this.lazyLoad.slice(0);\r\n        return cloned;\r\n    };\r\n    /**\r\n     * Specifies the name of table to retrieve data in query execution.\r\n     *\r\n     * @param  {string} tableName - Defines the table name.\r\n     */\r\n    Query.prototype.from = function (tableName) {\r\n        this.fromTable = tableName;\r\n        return this;\r\n    };\r\n    /**\r\n     * Adds additional parameter which will be sent along with the request which will be generated while DataManager execute.\r\n     *\r\n     * @param  {string} key - Defines the key of additional parameter.\r\n     * @param  {Function|string} value - Defines the value for the key.\r\n     */\r\n    Query.prototype.addParams = function (key, value) {\r\n        if (typeof value === 'function') {\r\n            this.params.push({ key: key, fn: value });\r\n        }\r\n        else {\r\n            this.params.push({ key: key, value: value });\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * @param fields\r\n     * @hidden\r\n     */\r\n    Query.prototype.distinct = function (fields) {\r\n        if (typeof fields === 'string') {\r\n            this.distincts = [].slice.call([fields], 0);\r\n        }\r\n        else {\r\n            this.distincts = fields.slice(0);\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Expands the related table.\r\n     *\r\n     * @param  {string|Object[]} tables\r\n     */\r\n    Query.prototype.expand = function (tables) {\r\n        if (typeof tables === 'string') {\r\n            this.expands = [].slice.call([tables], 0);\r\n        }\r\n        else {\r\n            this.expands = tables.slice(0);\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Filter data with given filter criteria.\r\n     *\r\n     * @param {string|Predicate} fieldName - Defines the column field or Predicate.\r\n     * @param {string} operator - Defines the operator how to filter data.\r\n     * @param {string|number|boolean} value - Defines the values to match with data.\r\n     * @param {boolean} ignoreCase - If ignore case set to false, then filter data with exact match or else\r\n     * filter data with case insensitive.\r\n     * @param ignoreAccent\r\n     * @param matchCase\r\n     */\r\n    Query.prototype.where = function (fieldName, operator, value, ignoreCase, ignoreAccent, matchCase) {\r\n        operator = operator ? (operator).toLowerCase() : null;\r\n        var predicate = null;\r\n        if (typeof fieldName === 'string') {\r\n            predicate = new Predicate(fieldName, operator, value, ignoreCase, ignoreAccent, matchCase);\r\n        }\r\n        else if (fieldName instanceof Predicate) {\r\n            predicate = fieldName;\r\n        }\r\n        this.queries.push({\r\n            fn: 'onWhere',\r\n            e: predicate\r\n        });\r\n        return this;\r\n    };\r\n    /**\r\n     * Search data with given search criteria.\r\n     *\r\n     * @param {string|number|boolean} searchKey - Defines the search key.\r\n     * @param {string|string[]} fieldNames - Defines the collection of column fields.\r\n     * @param {string} operator - Defines the operator how to search data.\r\n     * @param {boolean} ignoreCase - If ignore case set to false, then filter data with exact match or else\r\n     * filter data with case insensitive.\r\n     * @param ignoreAccent\r\n     */\r\n    Query.prototype.search = function (searchKey, fieldNames, operator, ignoreCase, ignoreAccent) {\r\n        if (typeof fieldNames === 'string') {\r\n            fieldNames = [fieldNames];\r\n        }\r\n        if (!operator || operator === 'none') {\r\n            operator = 'contains';\r\n        }\r\n        var comparer = DataUtil.fnOperators[operator];\r\n        this.queries.push({\r\n            fn: 'onSearch',\r\n            e: {\r\n                fieldNames: fieldNames,\r\n                operator: operator,\r\n                searchKey: searchKey,\r\n                ignoreCase: ignoreCase,\r\n                ignoreAccent: ignoreAccent,\r\n                comparer: comparer\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    /**\r\n     * Sort the data with given sort criteria.\r\n     * By default, sort direction is ascending.\r\n     *\r\n     * @param {string|string[]} fieldName - Defines the single or collection of column fields.\r\n     * @param {string|Function} comparer - Defines the sort direction or custom sort comparer function.\r\n     * @param isFromGroup\r\n     */\r\n    Query.prototype.sortBy = function (fieldName, comparer, isFromGroup) {\r\n        return this.sortByForeignKey(fieldName, comparer, isFromGroup);\r\n    };\r\n    /**\r\n     * Sort the data with given sort criteria.\r\n     * By default, sort direction is ascending.\r\n     *\r\n     * @param {string|string[]} fieldName - Defines the single or collection of column fields.\r\n     * @param {string|Function} comparer - Defines the sort direction or custom sort comparer function.\r\n     * @param isFromGroup\r\n     * @param {string} direction - Defines the sort direction .\r\n     */\r\n    Query.prototype.sortByForeignKey = function (fieldName, comparer, isFromGroup, direction) {\r\n        var order = !isNullOrUndefined(direction) ? direction : 'ascending';\r\n        var sorts;\r\n        var temp;\r\n        if (typeof fieldName === 'string' && DataUtil.endsWith(fieldName.toLowerCase(), ' desc')) {\r\n            fieldName = fieldName.replace(/ desc$/i, '');\r\n            comparer = 'descending';\r\n        }\r\n        if (!comparer || typeof comparer === 'string') {\r\n            order = comparer ? comparer.toLowerCase() : 'ascending';\r\n            comparer = DataUtil.fnSort(comparer);\r\n        }\r\n        if (isFromGroup) {\r\n            sorts = Query.filterQueries(this.queries, 'onSortBy');\r\n            for (var i = 0; i < sorts.length; i++) {\r\n                temp = sorts[i].e.fieldName;\r\n                if (typeof temp === 'string') {\r\n                    if (temp === fieldName) {\r\n                        return this;\r\n                    }\r\n                }\r\n                else if (temp instanceof Array) {\r\n                    for (var j = 0; j < temp.length; j++) {\r\n                        if (temp[j] === fieldName || fieldName.toLowerCase() === temp[j] + ' desc') {\r\n                            return this;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.queries.push({\r\n            fn: 'onSortBy',\r\n            e: {\r\n                fieldName: fieldName,\r\n                comparer: comparer,\r\n                direction: order\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    /**\r\n     * Sorts data in descending order.\r\n     *\r\n     * @param  {string} fieldName - Defines the column field.\r\n     */\r\n    Query.prototype.sortByDesc = function (fieldName) {\r\n        return this.sortBy(fieldName, 'descending');\r\n    };\r\n    /**\r\n     * Groups data with the given field name.\r\n     *\r\n     * @param {string} fieldName - Defines the column field.\r\n     * @param fn\r\n     * @param format\r\n     */\r\n    Query.prototype.group = function (fieldName, fn, format) {\r\n        this.sortBy(fieldName, null, true);\r\n        this.queries.push({\r\n            fn: 'onGroup',\r\n            e: {\r\n                fieldName: fieldName,\r\n                comparer: fn ? fn : null,\r\n                format: format ? format : null\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    /**\r\n     * Gets data based on the given page index and size.\r\n     *\r\n     * @param  {number} pageIndex - Defines the current page index.\r\n     * @param  {number} pageSize - Defines the no of records per page.\r\n     */\r\n    Query.prototype.page = function (pageIndex, pageSize) {\r\n        this.queries.push({\r\n            fn: 'onPage',\r\n            e: {\r\n                pageIndex: pageIndex,\r\n                pageSize: pageSize\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    /**\r\n     * Gets data based on the given start and end index.\r\n     *\r\n     * @param  {number} start - Defines the start index of the datasource.\r\n     * @param  {number} end - Defines the end index of the datasource.\r\n     */\r\n    Query.prototype.range = function (start, end) {\r\n        this.queries.push({\r\n            fn: 'onRange',\r\n            e: {\r\n                start: start,\r\n                end: end\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    /**\r\n     * Gets data from the top of the data source based on given number of records count.\r\n     *\r\n     * @param  {number} nos - Defines the no of records to retrieve from datasource.\r\n     */\r\n    Query.prototype.take = function (nos) {\r\n        this.queries.push({\r\n            fn: 'onTake',\r\n            e: {\r\n                nos: nos\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    /**\r\n     * Skips data with given number of records count from the top of the data source.\r\n     *\r\n     * @param  {number} nos - Defines the no of records skip in the datasource.\r\n     */\r\n    Query.prototype.skip = function (nos) {\r\n        this.queries.push({\r\n            fn: 'onSkip',\r\n            e: { nos: nos }\r\n        });\r\n        return this;\r\n    };\r\n    /**\r\n     * Selects specified columns from the data source.\r\n     *\r\n     * @param  {string|string[]} fieldNames - Defines the collection of column fields.\r\n     */\r\n    Query.prototype.select = function (fieldNames) {\r\n        if (typeof fieldNames === 'string') {\r\n            fieldNames = [].slice.call([fieldNames], 0);\r\n        }\r\n        this.queries.push({\r\n            fn: 'onSelect',\r\n            e: { fieldNames: fieldNames }\r\n        });\r\n        return this;\r\n    };\r\n    /**\r\n     * Gets the records in hierarchical relationship from two tables. It requires the foreign key to relate two tables.\r\n     *\r\n     * @param  {Query} query - Defines the query to relate two tables.\r\n     * @param  {Function} selectorFn - Defines the custom function to select records.\r\n     */\r\n    Query.prototype.hierarchy = function (query, selectorFn) {\r\n        this.subQuerySelector = selectorFn;\r\n        this.subQuery = query;\r\n        return this;\r\n    };\r\n    /**\r\n     * Sets the foreign key which is used to get data from the related table.\r\n     *\r\n     * @param  {string} key - Defines the foreign key.\r\n     */\r\n    Query.prototype.foreignKey = function (key) {\r\n        this.fKey = key;\r\n        return this;\r\n    };\r\n    /**\r\n     * It is used to get total number of records in the DataManager execution result.\r\n     */\r\n    Query.prototype.requiresCount = function () {\r\n        this.isCountRequired = true;\r\n        return this;\r\n    };\r\n    //type - sum, avg, min, max\r\n    /**\r\n     * Aggregate the data with given type and field name.\r\n     *\r\n     * @param  {string} type - Defines the aggregate type.\r\n     * @param  {string} field - Defines the column field to aggregate.\r\n     */\r\n    Query.prototype.aggregate = function (type, field) {\r\n        this.queries.push({\r\n            fn: 'onAggregates',\r\n            e: { field: field, type: type }\r\n        });\r\n        return this;\r\n    };\r\n    /**\r\n     * Pass array of filterColumn query for performing filter operation.\r\n     *\r\n     * @param  {QueryOptions[]} queries\r\n     * @param  {string} name\r\n     * @hidden\r\n     */\r\n    Query.filterQueries = function (queries, name) {\r\n        return queries.filter(function (q) {\r\n            return q.fn === name;\r\n        });\r\n    };\r\n    /**\r\n     * To get the list of queries which is already filtered in current data source.\r\n     *\r\n     * @param  {Object[]} queries\r\n     * @param  {string[]} singles\r\n     * @hidden\r\n     */\r\n    Query.filterQueryLists = function (queries, singles) {\r\n        var filtered = queries.filter(function (q) {\r\n            return singles.indexOf(q.fn) !== -1;\r\n        });\r\n        var res = {};\r\n        for (var i = 0; i < filtered.length; i++) {\r\n            if (!res[filtered[i].fn]) {\r\n                res[filtered[i].fn] = filtered[i].e;\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n    return Query;\r\n}());\r\nexport { Query };\r\n/**\r\n * Predicate class is used to generate complex filter criteria.\r\n * This will be used by DataManager to perform multiple filtering operation.\r\n */\r\nvar Predicate = /** @class */ (function () {\r\n    /**\r\n     * Constructor for Predicate class.\r\n     *\r\n     * @param {string|Predicate} field\r\n     * @param {string} operator\r\n     * @param {string|number|boolean|Predicate|Predicate[]} value\r\n     * @param {boolean=false} ignoreCase\r\n     * @param ignoreAccent\r\n     * @param {boolean} matchCase\r\n     * @hidden\r\n     */\r\n    function Predicate(field, operator, value, ignoreCase, ignoreAccent, matchCase) {\r\n        if (ignoreCase === void 0) { ignoreCase = false; }\r\n        /** @hidden */\r\n        this.ignoreAccent = false;\r\n        /** @hidden */\r\n        this.isComplex = false;\r\n        if (typeof field === 'string') {\r\n            this.field = field;\r\n            this.operator = operator.toLowerCase();\r\n            this.value = value;\r\n            this.matchCase = matchCase;\r\n            this.ignoreCase = ignoreCase;\r\n            this.ignoreAccent = ignoreAccent;\r\n            this.isComplex = false;\r\n            this.comparer = DataUtil.fnOperators.processOperator(this.operator);\r\n        }\r\n        else if (field instanceof Predicate && value instanceof Predicate || value instanceof Array) {\r\n            this.isComplex = true;\r\n            this.condition = operator.toLowerCase();\r\n            this.predicates = [field];\r\n            this.matchCase = field.matchCase;\r\n            this.ignoreCase = field.ignoreCase;\r\n            this.ignoreAccent = field.ignoreAccent;\r\n            if (value instanceof Array) {\r\n                [].push.apply(this.predicates, value);\r\n            }\r\n            else {\r\n                this.predicates.push(value);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Adds n-number of new predicates on existing predicate with “and” condition.\r\n     *\r\n     * @param  {Object[]} args - Defines the collection of predicates.\r\n     */\r\n    Predicate.and = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        return Predicate.combinePredicates([].slice.call(args, 0), 'and');\r\n    };\r\n    /**\r\n     * Adds new predicate on existing predicate with “and” condition.\r\n     *\r\n     * @param {string} field - Defines the column field.\r\n     * @param {string} operator - Defines the operator how to filter data.\r\n     * @param {string} value - Defines the values to match with data.\r\n     * @param {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\r\n     * filter data with case insensitive.\r\n     * @param ignoreCase\r\n     * @param ignoreAccent\r\n     */\r\n    Predicate.prototype.and = function (field, operator, value, ignoreCase, ignoreAccent) {\r\n        return Predicate.combine(this, field, operator, value, 'and', ignoreCase, ignoreAccent);\r\n    };\r\n    /**\r\n     * Adds n-number of new predicates on existing predicate with “or” condition.\r\n     *\r\n     * @param  {Object[]} args - Defines the collection of predicates.\r\n     */\r\n    Predicate.or = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        return Predicate.combinePredicates([].slice.call(args, 0), 'or');\r\n    };\r\n    /**\r\n     * Adds new predicate on existing predicate with “or” condition.\r\n     *\r\n     * @param {string} field - Defines the column field.\r\n     * @param {string} operator - Defines the operator how to filter data.\r\n     * @param {string} value - Defines the values to match with data.\r\n     * @param {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\r\n     * filter data with case insensitive.\r\n     * @param ignoreCase\r\n     * @param ignoreAccent\r\n     */\r\n    Predicate.prototype.or = function (field, operator, value, ignoreCase, ignoreAccent) {\r\n        return Predicate.combine(this, field, operator, value, 'or', ignoreCase, ignoreAccent);\r\n    };\r\n    /**\r\n     * Adds n-number of new predicates on existing predicate with “and not” condition.\r\n     *\r\n     * @param  {Object[]} args - Defines the collection of predicates.\r\n     */\r\n    Predicate.ornot = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        return Predicate.combinePredicates([].slice.call(args, 0), 'or not');\r\n    };\r\n    /**\r\n     * Adds new predicate on existing predicate with “and not” condition.\r\n     *\r\n     * @param {string} field - Defines the column field.\r\n     * @param {string} operator - Defines the operator how to filter data.\r\n     * @param {string} value - Defines the values to match with data.\r\n     * @param {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\r\n     * filter data with case insensitive.\r\n     * @param ignoreCase\r\n     * @param ignoreAccent\r\n     */\r\n    Predicate.prototype.ornot = function (field, operator, value, ignoreCase, ignoreAccent) {\r\n        return Predicate.combine(this, field, operator, value, 'ornot', ignoreCase, ignoreAccent);\r\n    };\r\n    /**\r\n     * Adds n-number of new predicates on existing predicate with “and not” condition.\r\n     *\r\n     * @param  {Object[]} args - Defines the collection of predicates.\r\n     */\r\n    Predicate.andnot = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        return Predicate.combinePredicates([].slice.call(args, 0), 'and not');\r\n    };\r\n    /**\r\n     * Adds new predicate on existing predicate with “and not” condition.\r\n     *\r\n     * @param {string} field - Defines the column field.\r\n     * @param {string} operator - Defines the operator how to filter data.\r\n     * @param {string} value - Defines the values to match with data.\r\n     * @param {boolean} ignoreCase? - If ignore case set to false, then filter data with exact match or else\r\n     * filter data with case insensitive.\r\n     * @param ignoreCase\r\n     * @param ignoreAccent\r\n     */\r\n    Predicate.prototype.andnot = function (field, operator, value, ignoreCase, ignoreAccent) {\r\n        return Predicate.combine(this, field, operator, value, 'andnot', ignoreCase, ignoreAccent);\r\n    };\r\n    /**\r\n     * Converts plain JavaScript object to Predicate object.\r\n     *\r\n     * @param  {Predicate[]|Predicate} json - Defines single or collection of Predicate.\r\n     */\r\n    Predicate.fromJson = function (json) {\r\n        if (json instanceof Array) {\r\n            var res = [];\r\n            for (var i = 0, len = json.length; i < len; i++) {\r\n                res.push(this.fromJSONData(json[i]));\r\n            }\r\n            return res;\r\n        }\r\n        var pred = json;\r\n        return this.fromJSONData(pred);\r\n    };\r\n    /**\r\n     * Validate the record based on the predicates.\r\n     *\r\n     * @param  {Object} record - Defines the datasource record.\r\n     */\r\n    Predicate.prototype.validate = function (record) {\r\n        var predicate = this.predicates ? this.predicates : [];\r\n        var ret;\r\n        var isAnd;\r\n        if (!this.isComplex && this.comparer) {\r\n            if (this.condition && this.condition.indexOf('not') !== -1) {\r\n                this.condition = this.condition.split('not')[0] === '' ? undefined : this.condition.split('not')[0];\r\n                return !this.comparer.call(this, DataUtil.getObject(this.field, record), this.value, this.ignoreCase, this.ignoreAccent);\r\n            }\r\n            else {\r\n                return this.comparer.call(this, DataUtil.getObject(this.field, record), this.value, this.ignoreCase, this.ignoreAccent);\r\n            }\r\n        }\r\n        if (this.condition && this.condition.indexOf('not') !== -1) {\r\n            isAnd = this.condition.indexOf('and') !== -1;\r\n        }\r\n        else {\r\n            isAnd = this.condition === 'and';\r\n        }\r\n        for (var i = 0; i < predicate.length; i++) {\r\n            if (i > 0 && this.condition && this.condition.indexOf('not') !== -1) {\r\n                predicate[i].condition = predicate[i].condition ? predicate[i].condition + 'not' : 'not';\r\n            }\r\n            ret = predicate[i].validate(record);\r\n            if (isAnd) {\r\n                if (!ret) {\r\n                    return false;\r\n                }\r\n            }\r\n            else {\r\n                if (ret) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return isAnd;\r\n    };\r\n    /**\r\n     * Converts predicates to plain JavaScript.\r\n     * This method is uses Json stringify when serializing Predicate object.\r\n     */\r\n    Predicate.prototype.toJson = function () {\r\n        var predicates;\r\n        var p;\r\n        if (this.isComplex) {\r\n            predicates = [];\r\n            p = this.predicates;\r\n            for (var i = 0; i < p.length; i++) {\r\n                predicates.push(p[i].toJson());\r\n            }\r\n        }\r\n        return {\r\n            isComplex: this.isComplex,\r\n            field: this.field,\r\n            operator: this.operator,\r\n            value: this.value,\r\n            ignoreCase: this.ignoreCase,\r\n            ignoreAccent: this.ignoreAccent,\r\n            condition: this.condition,\r\n            predicates: predicates,\r\n            matchCase: this.matchCase\r\n        };\r\n    };\r\n    Predicate.combinePredicates = function (predicates, operator) {\r\n        if (predicates.length === 1) {\r\n            if (!(predicates[0] instanceof Array)) {\r\n                return predicates[0];\r\n            }\r\n            predicates = predicates[0];\r\n        }\r\n        return new Predicate(predicates[0], operator, predicates.slice(1));\r\n    };\r\n    Predicate.combine = function (pred, field, operator, value, condition, ignoreCase, ignoreAccent) {\r\n        if (field instanceof Predicate) {\r\n            return Predicate[condition](pred, field);\r\n        }\r\n        if (typeof field === 'string') {\r\n            return Predicate[condition](pred, new Predicate(field, operator, value, ignoreCase, ignoreAccent));\r\n        }\r\n        return DataUtil.throwError('Predicate - ' + condition + ' : invalid arguments');\r\n    };\r\n    Predicate.fromJSONData = function (json) {\r\n        var preds = json.predicates || [];\r\n        var len = preds.length;\r\n        var predicates = [];\r\n        var result;\r\n        for (var i = 0; i < len; i++) {\r\n            predicates.push(this.fromJSONData(preds[i]));\r\n        }\r\n        if (!json.isComplex) {\r\n            result = new Predicate(json.field, json.operator, json.value, json.ignoreCase, json.ignoreAccent);\r\n        }\r\n        else {\r\n            result = new Predicate(predicates[0], json.condition, predicates.slice(1));\r\n        }\r\n        return result;\r\n    };\r\n    return Predicate;\r\n}());\r\nexport { Predicate };\r\n"],"mappings":"AAAA;AACA;AACA,SAASA,QAAQ,QAAQ,QAAQ;AACjC,SAASC,iBAAiB,QAAQ,sBAAsB;AACxD;AACA;AACA;AACA,IAAIC,KAAK,GAAG,aAAe,YAAY;EACnC;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,SAASA,KAAKA,CAACC,IAAI,EAAE;IACjB;IACA,IAAI,CAACC,QAAQ,GAAG,IAAI;IACpB;IACA,IAAI,CAACC,OAAO,GAAG,KAAK;IACpB;IACA,IAAI,CAACC,SAAS,GAAG,EAAE;IACnB,IAAI,CAACC,OAAO,GAAG,EAAE;IACjB,IAAI,CAACC,GAAG,GAAG,EAAE;IACb,IAAI,CAACC,IAAI,GAAG,EAAE;IACd,IAAI,OAAON,IAAI,KAAK,QAAQ,EAAE;MAC1B,IAAI,CAACO,SAAS,GAAGP,IAAI;IACzB,CAAC,MACI,IAAIA,IAAI,IAAIA,IAAI,YAAYQ,KAAK,EAAE;MACpC,IAAI,CAACC,OAAO,GAAGT,IAAI;IACvB;IACA,IAAI,CAACU,OAAO,GAAG,EAAE;IACjB,IAAI,CAACC,aAAa,GAAG,EAAE;IACvB,IAAI,CAACC,cAAc,GAAG,EAAE;IACxB,IAAI,CAACX,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACC,OAAO,GAAG,KAAK;IACpB,IAAI,CAACW,MAAM,GAAG,EAAE;IAChB,IAAI,CAACC,QAAQ,GAAG,EAAE;IAClB,OAAO,IAAI;EACf;EACA;AACJ;AACA;AACA;AACA;EACIf,KAAK,CAACgB,SAAS,CAACC,MAAM,GAAG,UAAUC,KAAK,EAAE;IACtC,IAAI,CAACZ,GAAG,GAAGY,KAAK;IAChB,OAAO,IAAI;EACf,CAAC;EACD;AACJ;AACA;AACA;AACA;EACIlB,KAAK,CAACgB,SAAS,CAACG,KAAK,GAAG,UAAUC,WAAW,EAAE;IAC3C,IAAI,CAACA,WAAW,GAAGA,WAAW;IAC9B,OAAO,IAAI;EACf,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACIpB,KAAK,CAACgB,SAAS,CAACK,OAAO,GAAG,UAAUD,WAAW,EAAEE,IAAI,EAAEC,IAAI,EAAEC,MAAM,EAAE;IACjEJ,WAAW,GAAGA,WAAW,IAAI,IAAI,CAACA,WAAW;IAC7C,IAAIA,WAAW,EAAE;MACb,OAAOA,WAAW,CAACK,YAAY,CAAC,IAAI,EAAEH,IAAI,EAAEC,IAAI,EAAEC,MAAM,CAAC;IAC7D;IACA,OAAO1B,QAAQ,CAAC4B,UAAU,CAAC,2GAA2G,CAAC;EAC3I,CAAC;EACD;AACJ;AACA;AACA;AACA;EACI1B,KAAK,CAACgB,SAAS,CAACW,YAAY,GAAG,UAAUP,WAAW,EAAE;IAClDA,WAAW,GAAGA,WAAW,IAAI,IAAI,CAACA,WAAW;IAC7C,IAAIA,WAAW,EAAE;MACb,OAAOA,WAAW,CAACO,YAAY,CAAC,IAAI,CAAC;IACzC;IACA,OAAO7B,QAAQ,CAAC4B,UAAU,CAAC,gHAAgH,CAAC;EAChJ,CAAC;EACD;AACJ;AACA;EACI1B,KAAK,CAACgB,SAAS,CAACY,KAAK,GAAG,YAAY;IAChC,IAAIC,MAAM,GAAG,IAAI7B,KAAK,CAAC,CAAC;IACxB6B,MAAM,CAACxB,OAAO,GAAG,IAAI,CAACA,OAAO,CAACyB,KAAK,CAAC,CAAC,CAAC;IACtCD,MAAM,CAACvB,GAAG,GAAG,IAAI,CAACA,GAAG;IACrBuB,MAAM,CAAC1B,OAAO,GAAG,IAAI,CAACA,OAAO;IAC7B0B,MAAM,CAACT,WAAW,GAAG,IAAI,CAACA,WAAW;IACrCS,MAAM,CAACrB,SAAS,GAAG,IAAI,CAACA,SAAS;IACjCqB,MAAM,CAACf,MAAM,GAAG,IAAI,CAACA,MAAM,CAACgB,KAAK,CAAC,CAAC,CAAC;IACpCD,MAAM,CAAClB,OAAO,GAAG,IAAI,CAACA,OAAO,CAACmB,KAAK,CAAC,CAAC,CAAC;IACtCD,MAAM,CAACjB,aAAa,GAAG,IAAI,CAACA,aAAa,CAACkB,KAAK,CAAC,CAAC,CAAC;IAClDD,MAAM,CAAChB,cAAc,GAAG,IAAI,CAACA,cAAc,CAACiB,KAAK,CAAC,CAAC,CAAC;IACpDD,MAAM,CAACE,gBAAgB,GAAG,IAAI,CAACA,gBAAgB;IAC/CF,MAAM,CAAC3B,QAAQ,GAAG,IAAI,CAACA,QAAQ;IAC/B2B,MAAM,CAACtB,IAAI,GAAG,IAAI,CAACA,IAAI;IACvBsB,MAAM,CAACG,eAAe,GAAG,IAAI,CAACA,eAAe;IAC7CH,MAAM,CAACzB,SAAS,GAAG,IAAI,CAACA,SAAS,CAAC0B,KAAK,CAAC,CAAC,CAAC;IAC1CD,MAAM,CAACd,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACe,KAAK,CAAC,CAAC,CAAC;IACxC,OAAOD,MAAM;EACjB,CAAC;EACD;AACJ;AACA;AACA;AACA;EACI7B,KAAK,CAACgB,SAAS,CAACf,IAAI,GAAG,UAAUgC,SAAS,EAAE;IACxC,IAAI,CAACzB,SAAS,GAAGyB,SAAS;IAC1B,OAAO,IAAI;EACf,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACIjC,KAAK,CAACgB,SAAS,CAACkB,SAAS,GAAG,UAAU5B,GAAG,EAAE6B,KAAK,EAAE;IAC9C,IAAI,OAAOA,KAAK,KAAK,UAAU,EAAE;MAC7B,IAAI,CAACrB,MAAM,CAACsB,IAAI,CAAC;QAAE9B,GAAG,EAAEA,GAAG;QAAE+B,EAAE,EAAEF;MAAM,CAAC,CAAC;IAC7C,CAAC,MACI;MACD,IAAI,CAACrB,MAAM,CAACsB,IAAI,CAAC;QAAE9B,GAAG,EAAEA,GAAG;QAAE6B,KAAK,EAAEA;MAAM,CAAC,CAAC;IAChD;IACA,OAAO,IAAI;EACf,CAAC;EACD;AACJ;AACA;AACA;EACInC,KAAK,CAACgB,SAAS,CAACsB,QAAQ,GAAG,UAAUC,MAAM,EAAE;IACzC,IAAI,OAAOA,MAAM,KAAK,QAAQ,EAAE;MAC5B,IAAI,CAACnC,SAAS,GAAG,EAAE,CAAC0B,KAAK,CAACU,IAAI,CAAC,CAACD,MAAM,CAAC,EAAE,CAAC,CAAC;IAC/C,CAAC,MACI;MACD,IAAI,CAACnC,SAAS,GAAGmC,MAAM,CAACT,KAAK,CAAC,CAAC,CAAC;IACpC;IACA,OAAO,IAAI;EACf,CAAC;EACD;AACJ;AACA;AACA;AACA;EACI9B,KAAK,CAACgB,SAAS,CAACyB,MAAM,GAAG,UAAUC,MAAM,EAAE;IACvC,IAAI,OAAOA,MAAM,KAAK,QAAQ,EAAE;MAC5B,IAAI,CAAC/B,OAAO,GAAG,EAAE,CAACmB,KAAK,CAACU,IAAI,CAAC,CAACE,MAAM,CAAC,EAAE,CAAC,CAAC;IAC7C,CAAC,MACI;MACD,IAAI,CAAC/B,OAAO,GAAG+B,MAAM,CAACZ,KAAK,CAAC,CAAC,CAAC;IAClC;IACA,OAAO,IAAI;EACf,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI9B,KAAK,CAACgB,SAAS,CAAC2B,KAAK,GAAG,UAAUC,SAAS,EAAEC,QAAQ,EAAEV,KAAK,EAAEW,UAAU,EAAEC,YAAY,EAAEC,SAAS,EAAE;IAC/FH,QAAQ,GAAGA,QAAQ,GAAIA,QAAQ,CAAEI,WAAW,CAAC,CAAC,GAAG,IAAI;IACrD,IAAIC,SAAS,GAAG,IAAI;IACpB,IAAI,OAAON,SAAS,KAAK,QAAQ,EAAE;MAC/BM,SAAS,GAAG,IAAIC,SAAS,CAACP,SAAS,EAAEC,QAAQ,EAAEV,KAAK,EAAEW,UAAU,EAAEC,YAAY,EAAEC,SAAS,CAAC;IAC9F,CAAC,MACI,IAAIJ,SAAS,YAAYO,SAAS,EAAE;MACrCD,SAAS,GAAGN,SAAS;IACzB;IACA,IAAI,CAACvC,OAAO,CAAC+B,IAAI,CAAC;MACdC,EAAE,EAAE,SAAS;MACbe,CAAC,EAAEF;IACP,CAAC,CAAC;IACF,OAAO,IAAI;EACf,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACIlD,KAAK,CAACgB,SAAS,CAACqC,MAAM,GAAG,UAAUC,SAAS,EAAEC,UAAU,EAAEV,QAAQ,EAAEC,UAAU,EAAEC,YAAY,EAAE;IAC1F,IAAI,OAAOQ,UAAU,KAAK,QAAQ,EAAE;MAChCA,UAAU,GAAG,CAACA,UAAU,CAAC;IAC7B;IACA,IAAI,CAACV,QAAQ,IAAIA,QAAQ,KAAK,MAAM,EAAE;MAClCA,QAAQ,GAAG,UAAU;IACzB;IACA,IAAIW,QAAQ,GAAG1D,QAAQ,CAAC2D,WAAW,CAACZ,QAAQ,CAAC;IAC7C,IAAI,CAACxC,OAAO,CAAC+B,IAAI,CAAC;MACdC,EAAE,EAAE,UAAU;MACde,CAAC,EAAE;QACCG,UAAU,EAAEA,UAAU;QACtBV,QAAQ,EAAEA,QAAQ;QAClBS,SAAS,EAAEA,SAAS;QACpBR,UAAU,EAAEA,UAAU;QACtBC,YAAY,EAAEA,YAAY;QAC1BS,QAAQ,EAAEA;MACd;IACJ,CAAC,CAAC;IACF,OAAO,IAAI;EACf,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACIxD,KAAK,CAACgB,SAAS,CAAC0C,MAAM,GAAG,UAAUd,SAAS,EAAEY,QAAQ,EAAEG,WAAW,EAAE;IACjE,OAAO,IAAI,CAACC,gBAAgB,CAAChB,SAAS,EAAEY,QAAQ,EAAEG,WAAW,CAAC;EAClE,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI3D,KAAK,CAACgB,SAAS,CAAC4C,gBAAgB,GAAG,UAAUhB,SAAS,EAAEY,QAAQ,EAAEG,WAAW,EAAEE,SAAS,EAAE;IACtF,IAAIC,KAAK,GAAG,CAAC/D,iBAAiB,CAAC8D,SAAS,CAAC,GAAGA,SAAS,GAAG,WAAW;IACnE,IAAIE,KAAK;IACT,IAAIC,IAAI;IACR,IAAI,OAAOpB,SAAS,KAAK,QAAQ,IAAI9C,QAAQ,CAACmE,QAAQ,CAACrB,SAAS,CAACK,WAAW,CAAC,CAAC,EAAE,OAAO,CAAC,EAAE;MACtFL,SAAS,GAAGA,SAAS,CAACsB,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;MAC5CV,QAAQ,GAAG,YAAY;IAC3B;IACA,IAAI,CAACA,QAAQ,IAAI,OAAOA,QAAQ,KAAK,QAAQ,EAAE;MAC3CM,KAAK,GAAGN,QAAQ,GAAGA,QAAQ,CAACP,WAAW,CAAC,CAAC,GAAG,WAAW;MACvDO,QAAQ,GAAG1D,QAAQ,CAACqE,MAAM,CAACX,QAAQ,CAAC;IACxC;IACA,IAAIG,WAAW,EAAE;MACbI,KAAK,GAAG/D,KAAK,CAACoE,aAAa,CAAC,IAAI,CAAC/D,OAAO,EAAE,UAAU,CAAC;MACrD,KAAK,IAAIgE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,KAAK,CAACO,MAAM,EAAED,CAAC,EAAE,EAAE;QACnCL,IAAI,GAAGD,KAAK,CAACM,CAAC,CAAC,CAACjB,CAAC,CAACR,SAAS;QAC3B,IAAI,OAAOoB,IAAI,KAAK,QAAQ,EAAE;UAC1B,IAAIA,IAAI,KAAKpB,SAAS,EAAE;YACpB,OAAO,IAAI;UACf;QACJ,CAAC,MACI,IAAIoB,IAAI,YAAYvD,KAAK,EAAE;UAC5B,KAAK,IAAI8D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,IAAI,CAACM,MAAM,EAAEC,CAAC,EAAE,EAAE;YAClC,IAAIP,IAAI,CAACO,CAAC,CAAC,KAAK3B,SAAS,IAAIA,SAAS,CAACK,WAAW,CAAC,CAAC,KAAKe,IAAI,CAACO,CAAC,CAAC,GAAG,OAAO,EAAE;cACxE,OAAO,IAAI;YACf;UACJ;QACJ;MACJ;IACJ;IACA,IAAI,CAAClE,OAAO,CAAC+B,IAAI,CAAC;MACdC,EAAE,EAAE,UAAU;MACde,CAAC,EAAE;QACCR,SAAS,EAAEA,SAAS;QACpBY,QAAQ,EAAEA,QAAQ;QAClBK,SAAS,EAAEC;MACf;IACJ,CAAC,CAAC;IACF,OAAO,IAAI;EACf,CAAC;EACD;AACJ;AACA;AACA;AACA;EACI9D,KAAK,CAACgB,SAAS,CAACwD,UAAU,GAAG,UAAU5B,SAAS,EAAE;IAC9C,OAAO,IAAI,CAACc,MAAM,CAACd,SAAS,EAAE,YAAY,CAAC;EAC/C,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACI5C,KAAK,CAACgB,SAAS,CAACyD,KAAK,GAAG,UAAU7B,SAAS,EAAEP,EAAE,EAAEqC,MAAM,EAAE;IACrD,IAAI,CAAChB,MAAM,CAACd,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC;IAClC,IAAI,CAACvC,OAAO,CAAC+B,IAAI,CAAC;MACdC,EAAE,EAAE,SAAS;MACbe,CAAC,EAAE;QACCR,SAAS,EAAEA,SAAS;QACpBY,QAAQ,EAAEnB,EAAE,GAAGA,EAAE,GAAG,IAAI;QACxBqC,MAAM,EAAEA,MAAM,GAAGA,MAAM,GAAG;MAC9B;IACJ,CAAC,CAAC;IACF,OAAO,IAAI;EACf,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACI1E,KAAK,CAACgB,SAAS,CAAC2D,IAAI,GAAG,UAAUC,SAAS,EAAEC,QAAQ,EAAE;IAClD,IAAI,CAACxE,OAAO,CAAC+B,IAAI,CAAC;MACdC,EAAE,EAAE,QAAQ;MACZe,CAAC,EAAE;QACCwB,SAAS,EAAEA,SAAS;QACpBC,QAAQ,EAAEA;MACd;IACJ,CAAC,CAAC;IACF,OAAO,IAAI;EACf,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACI7E,KAAK,CAACgB,SAAS,CAAC8D,KAAK,GAAG,UAAUC,KAAK,EAAEC,GAAG,EAAE;IAC1C,IAAI,CAAC3E,OAAO,CAAC+B,IAAI,CAAC;MACdC,EAAE,EAAE,SAAS;MACbe,CAAC,EAAE;QACC2B,KAAK,EAAEA,KAAK;QACZC,GAAG,EAAEA;MACT;IACJ,CAAC,CAAC;IACF,OAAO,IAAI;EACf,CAAC;EACD;AACJ;AACA;AACA;AACA;EACIhF,KAAK,CAACgB,SAAS,CAACiE,IAAI,GAAG,UAAUC,GAAG,EAAE;IAClC,IAAI,CAAC7E,OAAO,CAAC+B,IAAI,CAAC;MACdC,EAAE,EAAE,QAAQ;MACZe,CAAC,EAAE;QACC8B,GAAG,EAAEA;MACT;IACJ,CAAC,CAAC;IACF,OAAO,IAAI;EACf,CAAC;EACD;AACJ;AACA;AACA;AACA;EACIlF,KAAK,CAACgB,SAAS,CAACmE,IAAI,GAAG,UAAUD,GAAG,EAAE;IAClC,IAAI,CAAC7E,OAAO,CAAC+B,IAAI,CAAC;MACdC,EAAE,EAAE,QAAQ;MACZe,CAAC,EAAE;QAAE8B,GAAG,EAAEA;MAAI;IAClB,CAAC,CAAC;IACF,OAAO,IAAI;EACf,CAAC;EACD;AACJ;AACA;AACA;AACA;EACIlF,KAAK,CAACgB,SAAS,CAACoE,MAAM,GAAG,UAAU7B,UAAU,EAAE;IAC3C,IAAI,OAAOA,UAAU,KAAK,QAAQ,EAAE;MAChCA,UAAU,GAAG,EAAE,CAACzB,KAAK,CAACU,IAAI,CAAC,CAACe,UAAU,CAAC,EAAE,CAAC,CAAC;IAC/C;IACA,IAAI,CAAClD,OAAO,CAAC+B,IAAI,CAAC;MACdC,EAAE,EAAE,UAAU;MACde,CAAC,EAAE;QAAEG,UAAU,EAAEA;MAAW;IAChC,CAAC,CAAC;IACF,OAAO,IAAI;EACf,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACIvD,KAAK,CAACgB,SAAS,CAACqE,SAAS,GAAG,UAAUC,KAAK,EAAEC,UAAU,EAAE;IACrD,IAAI,CAACxD,gBAAgB,GAAGwD,UAAU;IAClC,IAAI,CAACrF,QAAQ,GAAGoF,KAAK;IACrB,OAAO,IAAI;EACf,CAAC;EACD;AACJ;AACA;AACA;AACA;EACItF,KAAK,CAACgB,SAAS,CAACwE,UAAU,GAAG,UAAUlF,GAAG,EAAE;IACxC,IAAI,CAACC,IAAI,GAAGD,GAAG;IACf,OAAO,IAAI;EACf,CAAC;EACD;AACJ;AACA;EACIN,KAAK,CAACgB,SAAS,CAACyE,aAAa,GAAG,YAAY;IACxC,IAAI,CAACzD,eAAe,GAAG,IAAI;IAC3B,OAAO,IAAI;EACf,CAAC;EACD;EACA;AACJ;AACA;AACA;AACA;AACA;EACIhC,KAAK,CAACgB,SAAS,CAAC0E,SAAS,GAAG,UAAUC,IAAI,EAAEzE,KAAK,EAAE;IAC/C,IAAI,CAACb,OAAO,CAAC+B,IAAI,CAAC;MACdC,EAAE,EAAE,cAAc;MAClBe,CAAC,EAAE;QAAElC,KAAK,EAAEA,KAAK;QAAEyE,IAAI,EAAEA;MAAK;IAClC,CAAC,CAAC;IACF,OAAO,IAAI;EACf,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACI3F,KAAK,CAACoE,aAAa,GAAG,UAAU/D,OAAO,EAAEuF,IAAI,EAAE;IAC3C,OAAOvF,OAAO,CAACwF,MAAM,CAAC,UAAUC,CAAC,EAAE;MAC/B,OAAOA,CAAC,CAACzD,EAAE,KAAKuD,IAAI;IACxB,CAAC,CAAC;EACN,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACI5F,KAAK,CAAC+F,gBAAgB,GAAG,UAAU1F,OAAO,EAAE2F,OAAO,EAAE;IACjD,IAAIC,QAAQ,GAAG5F,OAAO,CAACwF,MAAM,CAAC,UAAUC,CAAC,EAAE;MACvC,OAAOE,OAAO,CAACE,OAAO,CAACJ,CAAC,CAACzD,EAAE,CAAC,KAAK,CAAC,CAAC;IACvC,CAAC,CAAC;IACF,IAAI8D,GAAG,GAAG,CAAC,CAAC;IACZ,KAAK,IAAI9B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4B,QAAQ,CAAC3B,MAAM,EAAED,CAAC,EAAE,EAAE;MACtC,IAAI,CAAC8B,GAAG,CAACF,QAAQ,CAAC5B,CAAC,CAAC,CAAChC,EAAE,CAAC,EAAE;QACtB8D,GAAG,CAACF,QAAQ,CAAC5B,CAAC,CAAC,CAAChC,EAAE,CAAC,GAAG4D,QAAQ,CAAC5B,CAAC,CAAC,CAACjB,CAAC;MACvC;IACJ;IACA,OAAO+C,GAAG;EACd,CAAC;EACD,OAAOnG,KAAK;AAChB,CAAC,CAAC,CAAE;AACJ,SAASA,KAAK;AACd;AACA;AACA;AACA;AACA,IAAImD,SAAS,GAAG,aAAe,YAAY;EACvC;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,SAASA,SAASA,CAACjC,KAAK,EAAE2B,QAAQ,EAAEV,KAAK,EAAEW,UAAU,EAAEC,YAAY,EAAEC,SAAS,EAAE;IAC5E,IAAIF,UAAU,KAAK,KAAK,CAAC,EAAE;MAAEA,UAAU,GAAG,KAAK;IAAE;IACjD;IACA,IAAI,CAACC,YAAY,GAAG,KAAK;IACzB;IACA,IAAI,CAACqD,SAAS,GAAG,KAAK;IACtB,IAAI,OAAOlF,KAAK,KAAK,QAAQ,EAAE;MAC3B,IAAI,CAACA,KAAK,GAAGA,KAAK;MAClB,IAAI,CAAC2B,QAAQ,GAAGA,QAAQ,CAACI,WAAW,CAAC,CAAC;MACtC,IAAI,CAACd,KAAK,GAAGA,KAAK;MAClB,IAAI,CAACa,SAAS,GAAGA,SAAS;MAC1B,IAAI,CAACF,UAAU,GAAGA,UAAU;MAC5B,IAAI,CAACC,YAAY,GAAGA,YAAY;MAChC,IAAI,CAACqD,SAAS,GAAG,KAAK;MACtB,IAAI,CAAC5C,QAAQ,GAAG1D,QAAQ,CAAC2D,WAAW,CAAC4C,eAAe,CAAC,IAAI,CAACxD,QAAQ,CAAC;IACvE,CAAC,MACI,IAAI3B,KAAK,YAAYiC,SAAS,IAAIhB,KAAK,YAAYgB,SAAS,IAAIhB,KAAK,YAAY1B,KAAK,EAAE;MACzF,IAAI,CAAC2F,SAAS,GAAG,IAAI;MACrB,IAAI,CAACE,SAAS,GAAGzD,QAAQ,CAACI,WAAW,CAAC,CAAC;MACvC,IAAI,CAACsD,UAAU,GAAG,CAACrF,KAAK,CAAC;MACzB,IAAI,CAAC8B,SAAS,GAAG9B,KAAK,CAAC8B,SAAS;MAChC,IAAI,CAACF,UAAU,GAAG5B,KAAK,CAAC4B,UAAU;MAClC,IAAI,CAACC,YAAY,GAAG7B,KAAK,CAAC6B,YAAY;MACtC,IAAIZ,KAAK,YAAY1B,KAAK,EAAE;QACxB,EAAE,CAAC2B,IAAI,CAACoE,KAAK,CAAC,IAAI,CAACD,UAAU,EAAEpE,KAAK,CAAC;MACzC,CAAC,MACI;QACD,IAAI,CAACoE,UAAU,CAACnE,IAAI,CAACD,KAAK,CAAC;MAC/B;IACJ;IACA,OAAO,IAAI;EACf;EACA;AACJ;AACA;AACA;AACA;EACIgB,SAAS,CAACsD,GAAG,GAAG,YAAY;IACxB,IAAIC,IAAI,GAAG,EAAE;IACb,KAAK,IAAIC,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGC,SAAS,CAACtC,MAAM,EAAEqC,EAAE,EAAE,EAAE;MAC1CD,IAAI,CAACC,EAAE,CAAC,GAAGC,SAAS,CAACD,EAAE,CAAC;IAC5B;IACA,OAAOxD,SAAS,CAAC0D,iBAAiB,CAAC,EAAE,CAAC/E,KAAK,CAACU,IAAI,CAACkE,IAAI,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC;EACrE,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACIvD,SAAS,CAACnC,SAAS,CAACyF,GAAG,GAAG,UAAUvF,KAAK,EAAE2B,QAAQ,EAAEV,KAAK,EAAEW,UAAU,EAAEC,YAAY,EAAE;IAClF,OAAOI,SAAS,CAAC2D,OAAO,CAAC,IAAI,EAAE5F,KAAK,EAAE2B,QAAQ,EAAEV,KAAK,EAAE,KAAK,EAAEW,UAAU,EAAEC,YAAY,CAAC;EAC3F,CAAC;EACD;AACJ;AACA;AACA;AACA;EACII,SAAS,CAAC4D,EAAE,GAAG,YAAY;IACvB,IAAIL,IAAI,GAAG,EAAE;IACb,KAAK,IAAIC,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGC,SAAS,CAACtC,MAAM,EAAEqC,EAAE,EAAE,EAAE;MAC1CD,IAAI,CAACC,EAAE,CAAC,GAAGC,SAAS,CAACD,EAAE,CAAC;IAC5B;IACA,OAAOxD,SAAS,CAAC0D,iBAAiB,CAAC,EAAE,CAAC/E,KAAK,CAACU,IAAI,CAACkE,IAAI,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC;EACpE,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACIvD,SAAS,CAACnC,SAAS,CAAC+F,EAAE,GAAG,UAAU7F,KAAK,EAAE2B,QAAQ,EAAEV,KAAK,EAAEW,UAAU,EAAEC,YAAY,EAAE;IACjF,OAAOI,SAAS,CAAC2D,OAAO,CAAC,IAAI,EAAE5F,KAAK,EAAE2B,QAAQ,EAAEV,KAAK,EAAE,IAAI,EAAEW,UAAU,EAAEC,YAAY,CAAC;EAC1F,CAAC;EACD;AACJ;AACA;AACA;AACA;EACII,SAAS,CAAC6D,KAAK,GAAG,YAAY;IAC1B,IAAIN,IAAI,GAAG,EAAE;IACb,KAAK,IAAIC,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGC,SAAS,CAACtC,MAAM,EAAEqC,EAAE,EAAE,EAAE;MAC1CD,IAAI,CAACC,EAAE,CAAC,GAAGC,SAAS,CAACD,EAAE,CAAC;IAC5B;IACA,OAAOxD,SAAS,CAAC0D,iBAAiB,CAAC,EAAE,CAAC/E,KAAK,CAACU,IAAI,CAACkE,IAAI,EAAE,CAAC,CAAC,EAAE,QAAQ,CAAC;EACxE,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACIvD,SAAS,CAACnC,SAAS,CAACgG,KAAK,GAAG,UAAU9F,KAAK,EAAE2B,QAAQ,EAAEV,KAAK,EAAEW,UAAU,EAAEC,YAAY,EAAE;IACpF,OAAOI,SAAS,CAAC2D,OAAO,CAAC,IAAI,EAAE5F,KAAK,EAAE2B,QAAQ,EAAEV,KAAK,EAAE,OAAO,EAAEW,UAAU,EAAEC,YAAY,CAAC;EAC7F,CAAC;EACD;AACJ;AACA;AACA;AACA;EACII,SAAS,CAAC8D,MAAM,GAAG,YAAY;IAC3B,IAAIP,IAAI,GAAG,EAAE;IACb,KAAK,IAAIC,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGC,SAAS,CAACtC,MAAM,EAAEqC,EAAE,EAAE,EAAE;MAC1CD,IAAI,CAACC,EAAE,CAAC,GAAGC,SAAS,CAACD,EAAE,CAAC;IAC5B;IACA,OAAOxD,SAAS,CAAC0D,iBAAiB,CAAC,EAAE,CAAC/E,KAAK,CAACU,IAAI,CAACkE,IAAI,EAAE,CAAC,CAAC,EAAE,SAAS,CAAC;EACzE,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACIvD,SAAS,CAACnC,SAAS,CAACiG,MAAM,GAAG,UAAU/F,KAAK,EAAE2B,QAAQ,EAAEV,KAAK,EAAEW,UAAU,EAAEC,YAAY,EAAE;IACrF,OAAOI,SAAS,CAAC2D,OAAO,CAAC,IAAI,EAAE5F,KAAK,EAAE2B,QAAQ,EAAEV,KAAK,EAAE,QAAQ,EAAEW,UAAU,EAAEC,YAAY,CAAC;EAC9F,CAAC;EACD;AACJ;AACA;AACA;AACA;EACII,SAAS,CAAC+D,QAAQ,GAAG,UAAUC,IAAI,EAAE;IACjC,IAAIA,IAAI,YAAY1G,KAAK,EAAE;MACvB,IAAI0F,GAAG,GAAG,EAAE;MACZ,KAAK,IAAI9B,CAAC,GAAG,CAAC,EAAE+C,GAAG,GAAGD,IAAI,CAAC7C,MAAM,EAAED,CAAC,GAAG+C,GAAG,EAAE/C,CAAC,EAAE,EAAE;QAC7C8B,GAAG,CAAC/D,IAAI,CAAC,IAAI,CAACiF,YAAY,CAACF,IAAI,CAAC9C,CAAC,CAAC,CAAC,CAAC;MACxC;MACA,OAAO8B,GAAG;IACd;IACA,IAAImB,IAAI,GAAGH,IAAI;IACf,OAAO,IAAI,CAACE,YAAY,CAACC,IAAI,CAAC;EAClC,CAAC;EACD;AACJ;AACA;AACA;AACA;EACInE,SAAS,CAACnC,SAAS,CAACuG,QAAQ,GAAG,UAAUC,MAAM,EAAE;IAC7C,IAAItE,SAAS,GAAG,IAAI,CAACqD,UAAU,GAAG,IAAI,CAACA,UAAU,GAAG,EAAE;IACtD,IAAIkB,GAAG;IACP,IAAIC,KAAK;IACT,IAAI,CAAC,IAAI,CAACtB,SAAS,IAAI,IAAI,CAAC5C,QAAQ,EAAE;MAClC,IAAI,IAAI,CAAC8C,SAAS,IAAI,IAAI,CAACA,SAAS,CAACJ,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;QACxD,IAAI,CAACI,SAAS,GAAG,IAAI,CAACA,SAAS,CAACqB,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,GAAGC,SAAS,GAAG,IAAI,CAACtB,SAAS,CAACqB,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACnG,OAAO,CAAC,IAAI,CAACnE,QAAQ,CAAChB,IAAI,CAAC,IAAI,EAAE1C,QAAQ,CAAC+H,SAAS,CAAC,IAAI,CAAC3G,KAAK,EAAEsG,MAAM,CAAC,EAAE,IAAI,CAACrF,KAAK,EAAE,IAAI,CAACW,UAAU,EAAE,IAAI,CAACC,YAAY,CAAC;MAC5H,CAAC,MACI;QACD,OAAO,IAAI,CAACS,QAAQ,CAAChB,IAAI,CAAC,IAAI,EAAE1C,QAAQ,CAAC+H,SAAS,CAAC,IAAI,CAAC3G,KAAK,EAAEsG,MAAM,CAAC,EAAE,IAAI,CAACrF,KAAK,EAAE,IAAI,CAACW,UAAU,EAAE,IAAI,CAACC,YAAY,CAAC;MAC3H;IACJ;IACA,IAAI,IAAI,CAACuD,SAAS,IAAI,IAAI,CAACA,SAAS,CAACJ,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;MACxDwB,KAAK,GAAG,IAAI,CAACpB,SAAS,CAACJ,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IAChD,CAAC,MACI;MACDwB,KAAK,GAAG,IAAI,CAACpB,SAAS,KAAK,KAAK;IACpC;IACA,KAAK,IAAIjC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGnB,SAAS,CAACoB,MAAM,EAAED,CAAC,EAAE,EAAE;MACvC,IAAIA,CAAC,GAAG,CAAC,IAAI,IAAI,CAACiC,SAAS,IAAI,IAAI,CAACA,SAAS,CAACJ,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;QACjEhD,SAAS,CAACmB,CAAC,CAAC,CAACiC,SAAS,GAAGpD,SAAS,CAACmB,CAAC,CAAC,CAACiC,SAAS,GAAGpD,SAAS,CAACmB,CAAC,CAAC,CAACiC,SAAS,GAAG,KAAK,GAAG,KAAK;MAC5F;MACAmB,GAAG,GAAGvE,SAAS,CAACmB,CAAC,CAAC,CAACkD,QAAQ,CAACC,MAAM,CAAC;MACnC,IAAIE,KAAK,EAAE;QACP,IAAI,CAACD,GAAG,EAAE;UACN,OAAO,KAAK;QAChB;MACJ,CAAC,MACI;QACD,IAAIA,GAAG,EAAE;UACL,OAAO,IAAI;QACf;MACJ;IACJ;IACA,OAAOC,KAAK;EAChB,CAAC;EACD;AACJ;AACA;AACA;EACIvE,SAAS,CAACnC,SAAS,CAAC8G,MAAM,GAAG,YAAY;IACrC,IAAIvB,UAAU;IACd,IAAIwB,CAAC;IACL,IAAI,IAAI,CAAC3B,SAAS,EAAE;MAChBG,UAAU,GAAG,EAAE;MACfwB,CAAC,GAAG,IAAI,CAACxB,UAAU;MACnB,KAAK,IAAIlC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0D,CAAC,CAACzD,MAAM,EAAED,CAAC,EAAE,EAAE;QAC/BkC,UAAU,CAACnE,IAAI,CAAC2F,CAAC,CAAC1D,CAAC,CAAC,CAACyD,MAAM,CAAC,CAAC,CAAC;MAClC;IACJ;IACA,OAAO;MACH1B,SAAS,EAAE,IAAI,CAACA,SAAS;MACzBlF,KAAK,EAAE,IAAI,CAACA,KAAK;MACjB2B,QAAQ,EAAE,IAAI,CAACA,QAAQ;MACvBV,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBW,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BC,YAAY,EAAE,IAAI,CAACA,YAAY;MAC/BuD,SAAS,EAAE,IAAI,CAACA,SAAS;MACzBC,UAAU,EAAEA,UAAU;MACtBvD,SAAS,EAAE,IAAI,CAACA;IACpB,CAAC;EACL,CAAC;EACDG,SAAS,CAAC0D,iBAAiB,GAAG,UAAUN,UAAU,EAAE1D,QAAQ,EAAE;IAC1D,IAAI0D,UAAU,CAACjC,MAAM,KAAK,CAAC,EAAE;MACzB,IAAI,EAAEiC,UAAU,CAAC,CAAC,CAAC,YAAY9F,KAAK,CAAC,EAAE;QACnC,OAAO8F,UAAU,CAAC,CAAC,CAAC;MACxB;MACAA,UAAU,GAAGA,UAAU,CAAC,CAAC,CAAC;IAC9B;IACA,OAAO,IAAIpD,SAAS,CAACoD,UAAU,CAAC,CAAC,CAAC,EAAE1D,QAAQ,EAAE0D,UAAU,CAACzE,KAAK,CAAC,CAAC,CAAC,CAAC;EACtE,CAAC;EACDqB,SAAS,CAAC2D,OAAO,GAAG,UAAUQ,IAAI,EAAEpG,KAAK,EAAE2B,QAAQ,EAAEV,KAAK,EAAEmE,SAAS,EAAExD,UAAU,EAAEC,YAAY,EAAE;IAC7F,IAAI7B,KAAK,YAAYiC,SAAS,EAAE;MAC5B,OAAOA,SAAS,CAACmD,SAAS,CAAC,CAACgB,IAAI,EAAEpG,KAAK,CAAC;IAC5C;IACA,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;MAC3B,OAAOiC,SAAS,CAACmD,SAAS,CAAC,CAACgB,IAAI,EAAE,IAAInE,SAAS,CAACjC,KAAK,EAAE2B,QAAQ,EAAEV,KAAK,EAAEW,UAAU,EAAEC,YAAY,CAAC,CAAC;IACtG;IACA,OAAOjD,QAAQ,CAAC4B,UAAU,CAAC,cAAc,GAAG4E,SAAS,GAAG,sBAAsB,CAAC;EACnF,CAAC;EACDnD,SAAS,CAACkE,YAAY,GAAG,UAAUF,IAAI,EAAE;IACrC,IAAIa,KAAK,GAAGb,IAAI,CAACZ,UAAU,IAAI,EAAE;IACjC,IAAIa,GAAG,GAAGY,KAAK,CAAC1D,MAAM;IACtB,IAAIiC,UAAU,GAAG,EAAE;IACnB,IAAI0B,MAAM;IACV,KAAK,IAAI5D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+C,GAAG,EAAE/C,CAAC,EAAE,EAAE;MAC1BkC,UAAU,CAACnE,IAAI,CAAC,IAAI,CAACiF,YAAY,CAACW,KAAK,CAAC3D,CAAC,CAAC,CAAC,CAAC;IAChD;IACA,IAAI,CAAC8C,IAAI,CAACf,SAAS,EAAE;MACjB6B,MAAM,GAAG,IAAI9E,SAAS,CAACgE,IAAI,CAACjG,KAAK,EAAEiG,IAAI,CAACtE,QAAQ,EAAEsE,IAAI,CAAChF,KAAK,EAAEgF,IAAI,CAACrE,UAAU,EAAEqE,IAAI,CAACpE,YAAY,CAAC;IACrG,CAAC,MACI;MACDkF,MAAM,GAAG,IAAI9E,SAAS,CAACoD,UAAU,CAAC,CAAC,CAAC,EAAEY,IAAI,CAACb,SAAS,EAAEC,UAAU,CAACzE,KAAK,CAAC,CAAC,CAAC,CAAC;IAC9E;IACA,OAAOmG,MAAM;EACjB,CAAC;EACD,OAAO9E,SAAS;AACpB,CAAC,CAAC,CAAE;AACJ,SAASA,SAAS"},"metadata":{},"sourceType":"module"}