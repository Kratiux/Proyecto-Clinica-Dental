{"ast":null,"code":"import { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { EventHandler, select, removeClass, addClass, detach, compile, L10n } from '@syncfusion/ej2-base';\nimport { Browser, attributes, isNullOrUndefined, append, closest, prepend } from '@syncfusion/ej2-base';\nimport { dropDownBaseClasses } from '../drop-down-base/drop-down-base';\nvar ICON = 'e-icons';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar INDETERMINATE = 'e-stop';\nvar checkAllParent = 'e-selectall-parent';\nvar searchBackIcon = 'e-input-group-icon e-back-icon e-icons';\nvar filterBarClearIcon = 'e-input-group-icon e-clear-icon e-icons';\nvar filterInput = 'e-input-filter';\nvar filterParent = 'e-filter-parent';\nvar mobileFilter = 'e-ddl-device-filter';\nvar clearIcon = 'e-clear-icon';\nvar popupFullScreen = 'e-popup-full-page';\nvar device = 'e-ddl-device';\nvar FOCUS = 'e-input-focus';\n/**\r\n * The Multiselect enable CheckBoxSelection call this inject module.\r\n */\nvar CheckBoxSelection = /** @class */function () {\n  function CheckBoxSelection(parent) {\n    this.activeLi = [];\n    this.activeEle = [];\n    this.parent = parent;\n    this.removeEventListener();\n    this.addEventListener();\n  }\n  CheckBoxSelection.prototype.getModuleName = function () {\n    return 'CheckBoxSelection';\n  };\n  CheckBoxSelection.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.on('updatelist', this.listSelection, this);\n    this.parent.on('listoption', this.listOption, this);\n    this.parent.on('selectAll', this.setSelectAll, this);\n    this.parent.on('checkSelectAll', this.checkSelectAll, this);\n    this.parent.on('searchBox', this.setSearchBox, this);\n    this.parent.on('blur', this.onBlurHandler, this);\n    this.parent.on('targetElement', this.targetElement, this);\n    this.parent.on('deviceSearchBox', this.setDeviceSearchBox, this);\n    this.parent.on('inputFocus', this.getFocus, this);\n    this.parent.on('reOrder', this.setReorder, this);\n    this.parent.on('activeList', this.getActiveList, this);\n    this.parent.on('selectAllText', this.setLocale, this);\n    this.parent.on('filterBarPlaceholder', this.setPlaceholder, this);\n    EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\n    this.parent.on('addItem', this.checboxCreate, this);\n    this.parent.on('popupFullScreen', this.setPopupFullScreen, this);\n  };\n  CheckBoxSelection.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.off('updatelist', this.listSelection);\n    this.parent.off('listoption', this.listOption);\n    this.parent.off('selectAll', this.setSelectAll);\n    this.parent.off('checkSelectAll', this.checkSelectAll);\n    this.parent.off('searchBox', this.setSearchBox);\n    this.parent.off('blur', this.onBlurHandler);\n    this.parent.off('targetElement', this.targetElement);\n    this.parent.off('deviceSearchBox', this.setDeviceSearchBox);\n    this.parent.off('inputFocus', this.getFocus);\n    this.parent.off('reOrder', this.setReorder);\n    this.parent.off('activeList', this.getActiveList);\n    this.parent.off('selectAllText', this.setLocale);\n    this.parent.off('filterBarPlaceholder', this.setPlaceholder);\n    this.parent.off('addItem', this.checboxCreate);\n    this.parent.off('popupFullScreen', this.setPopupFullScreen);\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CheckBoxSelection.prototype.listOption = function (args) {\n    var _this = this;\n    if (isNullOrUndefined(this.parent.listCurrentOptions.itemCreated)) {\n      this.parent.listCurrentOptions.itemCreated = function (e) {\n        _this.checboxCreate(e);\n      };\n    } else {\n      var itemCreated_1 = this.parent.listCurrentOptions.itemCreated;\n      this.parent.listCurrentOptions.itemCreated = function (e) {\n        _this.checboxCreate(e);\n        itemCreated_1.apply(_this, [e]);\n      };\n    }\n  };\n  CheckBoxSelection.prototype.setPlaceholder = function (props) {\n    Input.setPlaceholder(props.filterBarPlaceholder, this.filterInput);\n  };\n  CheckBoxSelection.prototype.checboxCreate = function (e) {\n    var item;\n    if (!isNullOrUndefined(e.item)) {\n      item = e.item;\n    } else {\n      item = e;\n    }\n    if (this.parent.enableGroupCheckBox || item.className !== 'e-list-group-item ' && item.className !== 'e-list-group-item') {\n      var checkboxEle = createCheckBox(this.parent.createElement, true);\n      var icon = select('div.' + ICON, item);\n      item.insertBefore(checkboxEle, item.childNodes[isNullOrUndefined(icon) ? 0 : 1]);\n      select('.' + CHECKBOXFRAME, checkboxEle);\n      if (this.parent.enableGroupCheckBox) {\n        this.parent.popupWrapper.classList.add('e-multiselect-group');\n      }\n      return item;\n    } else {\n      return item;\n    }\n  };\n  CheckBoxSelection.prototype.setSelectAll = function () {\n    if (this.parent.showSelectAll) {\n      if (isNullOrUndefined(this.checkAllParent)) {\n        this.checkAllParent = this.parent.createElement('div', {\n          className: checkAllParent\n        });\n        this.selectAllSpan = this.parent.createElement('span', {\n          className: 'e-all-text'\n        });\n        this.selectAllSpan.textContent = '';\n        this.checkAllParent.appendChild(this.selectAllSpan);\n        this.setLocale();\n        this.checboxCreate(this.checkAllParent);\n        if (this.parent.headerTemplate) {\n          if (!isNullOrUndefined(this.parent.filterParent)) {\n            append([this.checkAllParent], this.parent.filterParent);\n          } else {\n            append([this.checkAllParent], this.parent.popupWrapper);\n          }\n        }\n        if (!this.parent.headerTemplate) {\n          if (!isNullOrUndefined(this.parent.filterParent)) {\n            this.parent.filterParent.parentNode.insertBefore(this.checkAllParent, this.parent.filterParent.nextSibling);\n          } else {\n            prepend([this.checkAllParent], this.parent.popupWrapper);\n          }\n        }\n        EventHandler.add(this.checkAllParent, 'mousedown', this.clickHandler, this);\n      }\n      if (this.parent.list.classList.contains('e-nodata') || this.parent.listData && this.parent.listData.length <= 1 && !this.parent.isDynamicDataChange || this.parent.isDynamicDataChange && this.parent.listData && this.parent.listData.length <= 1) {\n        this.checkAllParent.style.display = 'none';\n      } else {\n        this.checkAllParent.style.display = 'block';\n      }\n      this.parent.selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n    } else if (!isNullOrUndefined(this.checkAllParent)) {\n      this.checkAllParent.parentElement.removeChild(this.checkAllParent);\n      this.checkAllParent = null;\n    }\n  };\n  CheckBoxSelection.prototype.destroy = function () {\n    this.removeEventListener();\n    EventHandler.remove(document, 'mousedown', this.onDocumentClick);\n    this.checkAllParent = null;\n    this.clearIconElement = null;\n    this.filterInput = null;\n    this.filterInputObj = null;\n    this.checkWrapper = null;\n    this.selectAllSpan = null;\n  };\n  CheckBoxSelection.prototype.listSelection = function (args) {\n    var target;\n    if (!isNullOrUndefined(args.e)) {\n      var frameElm = args.li.querySelector('.e-checkbox-wrapper .e-frame');\n      target = !isNullOrUndefined(args.e.target) ? args.e.target.classList.contains('e-frame') && (!this.parent.showSelectAll || this.checkAllParent && !this.checkAllParent.contains(args.e.target)) ? args.e.target : args.li.querySelector('.e-checkbox-wrapper').childNodes[1] : args.li.querySelector('.e-checkbox-wrapper').childNodes[1];\n    } else {\n      var checkboxWrapper = args.li.querySelector('.e-checkbox-wrapper');\n      target = checkboxWrapper ? checkboxWrapper.childNodes[1] : args.li.lastElementChild.childNodes[1];\n    }\n    if (this.parent.itemTemplate || this.parent.enableGroupCheckBox) {\n      target = args.li.firstElementChild.childNodes[1];\n    }\n    if (!isNullOrUndefined(target)) {\n      this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n    }\n    if (!isNullOrUndefined(this.checkWrapper)) {\n      var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n      var selectAll = false;\n      this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), args.li, args.e, selectAll);\n    }\n  };\n  CheckBoxSelection.prototype.validateCheckNode = function (checkWrap, isCheck, li, e, selectAll) {\n    this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true, selectAll);\n  };\n  CheckBoxSelection.prototype.clickHandler = function (e) {\n    var target;\n    if (e.currentTarget.classList.contains(this.checkAllParent.className) || e.currentTarget.classList.value === this.checkAllParent.className) {\n      target = e.currentTarget.firstElementChild.lastElementChild;\n    } else {\n      target = e.currentTarget;\n    }\n    this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n    var selectAll = true;\n    if (!isNullOrUndefined(this.checkWrapper)) {\n      var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n      this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), null, e, selectAll);\n    }\n    e.preventDefault();\n  };\n  CheckBoxSelection.prototype.changeState = function (wrapper, state, e, isPrevent, selectAll) {\n    var ariaState;\n    var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n    if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n      frameSpan.classList.remove(INDETERMINATE);\n      frameSpan.classList.add(CHECK);\n      ariaState = 'true';\n      if (selectAll) {\n        this.parent.selectAllItems(true, e);\n        this.setLocale(true);\n      }\n    } else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n      removeClass([frameSpan], [CHECK, INDETERMINATE]);\n      ariaState = 'false';\n      if (selectAll) {\n        this.parent.selectAllItems(false, e);\n        this.setLocale();\n      }\n    } else if (state === 'indeterminate' && !frameSpan.classList.contains(INDETERMINATE)) {\n      removeClass([frameSpan], [CHECK]);\n      frameSpan.classList.add(INDETERMINATE);\n      ariaState = 'false';\n      if (selectAll) {\n        this.parent.selectAllItems(false, e);\n        this.setLocale();\n      }\n    }\n  };\n  CheckBoxSelection.prototype.setSearchBox = function (args) {\n    if (isNullOrUndefined(this.parent.filterParent)) {\n      this.parent.filterParent = this.parent.createElement('span', {\n        className: filterParent\n      });\n      this.filterInput = this.parent.createElement('input', {\n        attrs: {\n          type: 'text'\n        },\n        className: filterInput\n      });\n      this.parent.element.parentNode.insertBefore(this.filterInput, this.parent.element);\n      var backIcon = false;\n      if (Browser.isDevice) {\n        backIcon = true;\n        this.parent.mobFilter = false;\n      }\n      this.filterInputObj = Input.createInput({\n        element: this.filterInput,\n        buttons: backIcon ? [searchBackIcon, filterBarClearIcon] : [filterBarClearIcon],\n        properties: {\n          placeholder: this.parent.filterBarPlaceholder\n        }\n      }, this.parent.createElement);\n      if (!isNullOrUndefined(this.parent.cssClass)) {\n        if (this.parent.cssClass.split(' ').indexOf('e-outline') !== -1) {\n          addClass([this.filterInputObj.container], 'e-outline');\n        } else if (this.parent.cssClass.split(' ').indexOf('e-filled') !== -1) {\n          addClass([this.filterInputObj.container], 'e-filled');\n        }\n      }\n      append([this.filterInputObj.container], this.parent.filterParent);\n      prepend([this.parent.filterParent], args.popupElement);\n      attributes(this.filterInput, {\n        'aria-disabled': 'false',\n        'role': 'combobox',\n        'autocomplete': 'off',\n        'autocapitalize': 'off',\n        'spellcheck': 'false'\n      });\n      this.clearIconElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n      if (!Browser.isDevice && this.clearIconElement) {\n        EventHandler.add(this.clearIconElement, 'mousedown', this.clearText, this);\n        this.clearIconElement.style.visibility = 'hidden';\n      }\n      EventHandler.add(this.filterInput, 'input', this.parent.onInput, this.parent);\n      EventHandler.add(this.filterInput, 'keyup', this.parent.keyUp, this.parent);\n      EventHandler.add(this.filterInput, 'keydown', this.parent.onKeyDown, this.parent);\n      EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\n      EventHandler.add(this.filterInput, 'paste', this.parent.pasteHandler, this.parent);\n      this.parent.searchBoxHeight = this.filterInputObj.container.parentElement.getBoundingClientRect().height;\n      return this.filterInputObj;\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CheckBoxSelection.prototype.clickOnBackIcon = function (e) {\n    this.parent.hidePopup();\n    removeClass([document.body, this.parent.popupObj.element], popupFullScreen);\n    this.parent.inputElement.focus();\n  };\n  CheckBoxSelection.prototype.clearText = function (e) {\n    this.parent.targetInputElement.value = '';\n    if (this.parent.allowFiltering && this.parent.targetInputElement.value === '') {\n      this.parent.search(null);\n    }\n    this.parent.refreshPopup();\n    this.parent.refreshListItems(null);\n    this.clearIconElement.style.visibility = 'hidden';\n    this.filterInput.focus();\n    this.setReorder(e);\n    e.preventDefault();\n  };\n  CheckBoxSelection.prototype.setDeviceSearchBox = function () {\n    this.parent.popupObj.element.classList.add(device);\n    this.parent.popupObj.element.classList.add(mobileFilter);\n    this.parent.popupObj.position = {\n      X: 0,\n      Y: 0\n    };\n    this.parent.popupObj.dataBind();\n    this.setSearchBoxPosition();\n    this.backIconElement = this.filterInputObj.container.querySelector('.e-back-icon');\n    this.clearIconElement = this.filterInputObj.container.querySelector('.' + clearIcon);\n    this.clearIconElement.style.visibility = 'hidden';\n    EventHandler.add(this.backIconElement, 'click', this.clickOnBackIcon, this);\n    EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\n  };\n  CheckBoxSelection.prototype.setSearchBoxPosition = function () {\n    var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\n    var selectAllHeight = 0;\n    if (this.checkAllParent) {\n      selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\n    }\n    this.parent.popupObj.element.style.maxHeight = '100%';\n    this.parent.popupObj.element.style.width = '100%';\n    this.parent.list.style.maxHeight = window.innerHeight - searchBoxHeight - selectAllHeight + 'px';\n    this.parent.list.style.height = window.innerHeight - searchBoxHeight - selectAllHeight + 'px';\n    var clearElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\n    detach(this.filterInput);\n    clearElement.parentElement.insertBefore(this.filterInput, clearElement);\n  };\n  CheckBoxSelection.prototype.setPopupFullScreen = function () {\n    if (this.parent && this.parent.popupObj) {\n      attributes(this.parent.popupObj.element, {\n        style: 'left:0px;right:0px;top:0px;bottom:0px;'\n      });\n      addClass([document.body, this.parent.popupObj.element], popupFullScreen);\n      this.parent.popupObj.element.style.maxHeight = '100%';\n      this.parent.popupObj.element.style.width = '100%';\n    }\n  };\n  CheckBoxSelection.prototype.targetElement = function () {\n    if (!isNullOrUndefined(this.clearIconElement)) {\n      this.parent.targetInputElement = this.filterInput;\n      this.clearIconElement.style.visibility = this.parent.targetInputElement.value === '' ? 'hidden' : 'visible';\n    }\n    return this.parent.targetInputElement.value;\n  };\n  CheckBoxSelection.prototype.onBlurHandler = function (e) {\n    if (!this.parent.element.classList.contains('e-listbox')) {\n      var target = void 0;\n      if (this.parent.keyAction) {\n        return;\n      }\n      if (Browser.isIE) {\n        target = !isNullOrUndefined(e) && e.target;\n      }\n      if (!Browser.isIE) {\n        target = !isNullOrUndefined(e) && e.relatedTarget;\n      }\n      // eslint-disable-next-line max-len\n      if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && this.parent.popupObj.element.contains(target) && !Browser.isIE && this.filterInput) {\n        this.filterInput.focus();\n        return;\n      }\n      if (this.parent.scrollFocusStatus && this.filterInput) {\n        e.preventDefault();\n        this.filterInput.focus();\n        this.parent.scrollFocusStatus = false;\n        return;\n      }\n      if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n        this.parent.inputFocus = false;\n        this.parent.updateValueState(e, this.parent.value, this.parent.tempValues);\n        this.parent.dispatchEvent(this.parent.hiddenElement, 'change');\n      }\n      if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && !this.parent.popupObj.element.classList.contains('e-popup-close')) {\n        this.parent.inputFocus = false;\n        this.parent.overAllWrapper.classList.remove(FOCUS);\n        this.parent.trigger('blur');\n        this.parent.focused = true;\n      }\n      if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && !this.parent.popupObj.element.classList.contains('e-popup-close') && !Browser.isDevice) {\n        this.parent.hidePopup();\n      }\n    }\n  };\n  CheckBoxSelection.prototype.onDocumentClick = function (e) {\n    if (this.parent.getLocaleName() !== 'listbox') {\n      var target = e.target;\n      if (!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]')) {\n        if (!(this.filterInput && this.filterInput.value !== '')) {\n          e.preventDefault();\n        }\n      }\n      if (!(!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]')) && !isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target)) {\n        if (this.parent.overAllWrapper.classList.contains(dropDownBaseClasses.focus) || this.parent.isPopupOpen()) {\n          this.parent.inputFocus = false;\n          this.parent.scrollFocusStatus = false;\n          this.parent.hidePopup();\n          this.parent.onBlurHandler(e, true);\n          this.parent.focused = true;\n        }\n      } else {\n        this.parent.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') && document.activeElement === this.filterInput;\n      }\n      if (!isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target) && this.parent.overAllWrapper.classList.contains('e-input-focus') && !this.parent.isPopupOpen()) {\n        if (Browser.isIE) {\n          this.parent.onBlurHandler();\n        } else {\n          this.parent.onBlurHandler(e);\n        }\n      }\n      if (this.filterInput === target) {\n        this.filterInput.focus();\n      }\n    }\n  };\n  CheckBoxSelection.prototype.getFocus = function (e) {\n    this.parent.overAllWrapper.classList.remove(FOCUS);\n    if (this.parent.keyAction && e.value !== 'clear' && e.value !== 'focus') {\n      this.parent.keyAction = false;\n      return;\n    }\n    if (e.value === 'focus') {\n      this.filterInput.focus();\n      this.parent.removeFocus();\n      EventHandler.remove(this.parent.list, 'keydown', this.parent.onKeyDown);\n    }\n    if (e.value === 'clear') {\n      this.filterInput.value = '';\n      this.clearIconElement.style.visibility = 'hidden';\n    }\n  };\n  CheckBoxSelection.prototype.checkSelectAll = function (e) {\n    if (e.value === 'check') {\n      this.changeState(this.checkAllParent, e.value, null, null, false);\n      this.setLocale(true);\n    }\n    if (e.value === 'uncheck') {\n      this.changeState(this.checkAllParent, e.value, null, null, false);\n      this.setLocale();\n    }\n    if (e.value === 'indeterminate') {\n      this.changeState(this.checkAllParent, e.value, null, null, false);\n      this.setLocale();\n    }\n  };\n  CheckBoxSelection.prototype.setLocale = function (unSelect) {\n    if (this.parent.selectAllText !== 'Select All' || this.parent.unSelectAllText !== 'Unselect All') {\n      var template = unSelect ? this.parent.unSelectAllText : this.parent.selectAllText;\n      this.selectAllSpan.textContent = '';\n      var compiledString = compile(template);\n      var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n      for (var _i = 0, _a = compiledString({}, this.parent, templateName, null, !this.parent.isStringTemplate); _i < _a.length; _i++) {\n        var item = _a[_i];\n        this.selectAllSpan.textContent = item.textContent;\n      }\n    } else {\n      var l10nLocale = {\n        selectAllText: 'Select All',\n        unSelectAllText: 'Unselect All'\n      };\n      var l10n = new L10n(this.parent.getLocaleName(), {}, this.parent.locale);\n      if (l10n.getConstant('selectAllText') === '') {\n        l10n = new L10n('dropdowns', l10nLocale, this.parent.locale);\n      }\n      this.selectAllSpan.textContent = unSelect ? l10n.getConstant('unSelectAllText') : l10n.getConstant('selectAllText');\n    }\n  };\n  CheckBoxSelection.prototype.getActiveList = function (args) {\n    if (args.li.classList.contains('e-active')) {\n      this.activeLi.push(args.li.cloneNode(true));\n    } else {\n      this.activeLi.splice(args.index, 1);\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  CheckBoxSelection.prototype.setReorder = function (args) {\n    if (this.parent.enableSelectionOrder && !isNullOrUndefined(this.parent.value)) {\n      var activeLiCount = this.parent.ulElement.querySelectorAll('li.e-active').length;\n      var remLi = void 0;\n      var ulEle_1 = this.parent.createElement('ul', {\n        className: 'e-list-parent e-ul e-reorder'\n      });\n      if (activeLiCount > 0) {\n        var activeListItems = this.parent.ulElement.querySelectorAll('li.e-active');\n        activeListItems.forEach(function (item) {\n          ulEle_1.appendChild(item);\n        });\n        remLi = this.parent.ulElement.querySelectorAll('li.e-active');\n        addClass(remLi, 'e-reorder-hide');\n        prepend([ulEle_1], this.parent.list);\n      }\n      this.parent.focusAtFirstListItem();\n    }\n  };\n  return CheckBoxSelection;\n}();\nexport { CheckBoxSelection };","map":{"version":3,"names":["createCheckBox","Input","EventHandler","select","removeClass","addClass","detach","compile","L10n","Browser","attributes","isNullOrUndefined","append","closest","prepend","dropDownBaseClasses","ICON","CHECKBOXFRAME","CHECK","CHECKBOXWRAP","INDETERMINATE","checkAllParent","searchBackIcon","filterBarClearIcon","filterInput","filterParent","mobileFilter","clearIcon","popupFullScreen","device","FOCUS","CheckBoxSelection","parent","activeLi","activeEle","removeEventListener","addEventListener","prototype","getModuleName","isDestroyed","on","listSelection","listOption","setSelectAll","checkSelectAll","setSearchBox","onBlurHandler","targetElement","setDeviceSearchBox","getFocus","setReorder","getActiveList","setLocale","setPlaceholder","add","document","onDocumentClick","checboxCreate","setPopupFullScreen","off","args","_this","listCurrentOptions","itemCreated","e","itemCreated_1","apply","props","filterBarPlaceholder","item","enableGroupCheckBox","className","checkboxEle","createElement","icon","insertBefore","childNodes","popupWrapper","classList","showSelectAll","selectAllSpan","textContent","appendChild","headerTemplate","parentNode","nextSibling","clickHandler","list","contains","listData","length","isDynamicDataChange","style","display","selectAllHeight","getBoundingClientRect","height","parentElement","removeChild","destroy","remove","clearIconElement","filterInputObj","checkWrapper","target","frameElm","li","querySelector","checkboxWrapper","lastElementChild","itemTemplate","firstElementChild","checkElement","selectAll","validateCheckNode","checkWrap","isCheck","changeState","currentTarget","value","preventDefault","wrapper","state","isPrevent","ariaState","frameSpan","getElementsByClassName","selectAllItems","attrs","type","element","backIcon","isDevice","mobFilter","createInput","buttons","properties","placeholder","cssClass","split","indexOf","container","popupElement","clearText","visibility","onInput","keyUp","onKeyDown","pasteHandler","searchBoxHeight","clickOnBackIcon","hidePopup","body","popupObj","inputElement","focus","targetInputElement","allowFiltering","search","refreshPopup","refreshListItems","position","X","Y","dataBind","setSearchBoxPosition","backIconElement","maxHeight","width","window","innerHeight","clearElement","keyAction","isIE","relatedTarget","scrollFocusStatus","inputFocus","updateValueState","tempValues","dispatchEvent","hiddenElement","overAllWrapper","trigger","focused","getLocaleName","id","isPopupOpen","info","name","activeElement","removeFocus","unSelect","selectAllText","unSelectAllText","template","compiledString","templateName","_i","_a","isStringTemplate","l10nLocale","l10n","locale","getConstant","push","cloneNode","splice","index","enableSelectionOrder","activeLiCount","ulElement","querySelectorAll","remLi","ulEle_1","activeListItems","forEach","focusAtFirstListItem"],"sources":["C:/Users/User/Desktop/ClinicaDentalVersionFinal/Proyecto-Clinica-Dental/donto-react/node_modules/@syncfusion/ej2-dropdowns/src/multi-select/checkbox-selection.js"],"sourcesContent":["import { createCheckBox } from '@syncfusion/ej2-buttons';\r\nimport { Input } from '@syncfusion/ej2-inputs';\r\nimport { EventHandler, select, removeClass, addClass, detach, compile, L10n } from '@syncfusion/ej2-base';\r\nimport { Browser, attributes, isNullOrUndefined, append, closest, prepend } from '@syncfusion/ej2-base';\r\nimport { dropDownBaseClasses } from '../drop-down-base/drop-down-base';\r\nvar ICON = 'e-icons';\r\nvar CHECKBOXFRAME = 'e-frame';\r\nvar CHECK = 'e-check';\r\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\r\nvar INDETERMINATE = 'e-stop';\r\nvar checkAllParent = 'e-selectall-parent';\r\nvar searchBackIcon = 'e-input-group-icon e-back-icon e-icons';\r\nvar filterBarClearIcon = 'e-input-group-icon e-clear-icon e-icons';\r\nvar filterInput = 'e-input-filter';\r\nvar filterParent = 'e-filter-parent';\r\nvar mobileFilter = 'e-ddl-device-filter';\r\nvar clearIcon = 'e-clear-icon';\r\nvar popupFullScreen = 'e-popup-full-page';\r\nvar device = 'e-ddl-device';\r\nvar FOCUS = 'e-input-focus';\r\n/**\r\n * The Multiselect enable CheckBoxSelection call this inject module.\r\n */\r\nvar CheckBoxSelection = /** @class */ (function () {\r\n    function CheckBoxSelection(parent) {\r\n        this.activeLi = [];\r\n        this.activeEle = [];\r\n        this.parent = parent;\r\n        this.removeEventListener();\r\n        this.addEventListener();\r\n    }\r\n    CheckBoxSelection.prototype.getModuleName = function () {\r\n        return 'CheckBoxSelection';\r\n    };\r\n    CheckBoxSelection.prototype.addEventListener = function () {\r\n        if (this.parent.isDestroyed) {\r\n            return;\r\n        }\r\n        this.parent.on('updatelist', this.listSelection, this);\r\n        this.parent.on('listoption', this.listOption, this);\r\n        this.parent.on('selectAll', this.setSelectAll, this);\r\n        this.parent.on('checkSelectAll', this.checkSelectAll, this);\r\n        this.parent.on('searchBox', this.setSearchBox, this);\r\n        this.parent.on('blur', this.onBlurHandler, this);\r\n        this.parent.on('targetElement', this.targetElement, this);\r\n        this.parent.on('deviceSearchBox', this.setDeviceSearchBox, this);\r\n        this.parent.on('inputFocus', this.getFocus, this);\r\n        this.parent.on('reOrder', this.setReorder, this);\r\n        this.parent.on('activeList', this.getActiveList, this);\r\n        this.parent.on('selectAllText', this.setLocale, this);\r\n        this.parent.on('filterBarPlaceholder', this.setPlaceholder, this);\r\n        EventHandler.add(document, 'mousedown', this.onDocumentClick, this);\r\n        this.parent.on('addItem', this.checboxCreate, this);\r\n        this.parent.on('popupFullScreen', this.setPopupFullScreen, this);\r\n    };\r\n    CheckBoxSelection.prototype.removeEventListener = function () {\r\n        if (this.parent.isDestroyed) {\r\n            return;\r\n        }\r\n        this.parent.off('updatelist', this.listSelection);\r\n        this.parent.off('listoption', this.listOption);\r\n        this.parent.off('selectAll', this.setSelectAll);\r\n        this.parent.off('checkSelectAll', this.checkSelectAll);\r\n        this.parent.off('searchBox', this.setSearchBox);\r\n        this.parent.off('blur', this.onBlurHandler);\r\n        this.parent.off('targetElement', this.targetElement);\r\n        this.parent.off('deviceSearchBox', this.setDeviceSearchBox);\r\n        this.parent.off('inputFocus', this.getFocus);\r\n        this.parent.off('reOrder', this.setReorder);\r\n        this.parent.off('activeList', this.getActiveList);\r\n        this.parent.off('selectAllText', this.setLocale);\r\n        this.parent.off('filterBarPlaceholder', this.setPlaceholder);\r\n        this.parent.off('addItem', this.checboxCreate);\r\n        this.parent.off('popupFullScreen', this.setPopupFullScreen);\r\n    };\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    CheckBoxSelection.prototype.listOption = function (args) {\r\n        var _this = this;\r\n        if (isNullOrUndefined(this.parent.listCurrentOptions.itemCreated)) {\r\n            this.parent.listCurrentOptions.itemCreated = function (e) {\r\n                _this.checboxCreate(e);\r\n            };\r\n        }\r\n        else {\r\n            var itemCreated_1 = this.parent.listCurrentOptions.itemCreated;\r\n            this.parent.listCurrentOptions.itemCreated = function (e) {\r\n                _this.checboxCreate(e);\r\n                itemCreated_1.apply(_this, [e]);\r\n            };\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.setPlaceholder = function (props) {\r\n        Input.setPlaceholder(props.filterBarPlaceholder, this.filterInput);\r\n    };\r\n    CheckBoxSelection.prototype.checboxCreate = function (e) {\r\n        var item;\r\n        if (!isNullOrUndefined(e.item)) {\r\n            item = e.item;\r\n        }\r\n        else {\r\n            item = e;\r\n        }\r\n        if (this.parent.enableGroupCheckBox || (item.className !== 'e-list-group-item '\r\n            && item.className !== 'e-list-group-item')) {\r\n            var checkboxEle = createCheckBox(this.parent.createElement, true);\r\n            var icon = select('div.' + ICON, item);\r\n            item.insertBefore(checkboxEle, item.childNodes[isNullOrUndefined(icon) ? 0 : 1]);\r\n            select('.' + CHECKBOXFRAME, checkboxEle);\r\n            if (this.parent.enableGroupCheckBox) {\r\n                this.parent.popupWrapper.classList.add('e-multiselect-group');\r\n            }\r\n            return item;\r\n        }\r\n        else {\r\n            return item;\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.setSelectAll = function () {\r\n        if (this.parent.showSelectAll) {\r\n            if (isNullOrUndefined(this.checkAllParent)) {\r\n                this.checkAllParent = this.parent.createElement('div', {\r\n                    className: checkAllParent\r\n                });\r\n                this.selectAllSpan = this.parent.createElement('span', {\r\n                    className: 'e-all-text'\r\n                });\r\n                this.selectAllSpan.textContent = '';\r\n                this.checkAllParent.appendChild(this.selectAllSpan);\r\n                this.setLocale();\r\n                this.checboxCreate(this.checkAllParent);\r\n                if (this.parent.headerTemplate) {\r\n                    if (!isNullOrUndefined(this.parent.filterParent)) {\r\n                        append([this.checkAllParent], this.parent.filterParent);\r\n                    }\r\n                    else {\r\n                        append([this.checkAllParent], this.parent.popupWrapper);\r\n                    }\r\n                }\r\n                if (!this.parent.headerTemplate) {\r\n                    if (!isNullOrUndefined(this.parent.filterParent)) {\r\n                        this.parent.filterParent.parentNode.insertBefore(this.checkAllParent, this.parent.filterParent.nextSibling);\r\n                    }\r\n                    else {\r\n                        prepend([this.checkAllParent], this.parent.popupWrapper);\r\n                    }\r\n                }\r\n                EventHandler.add(this.checkAllParent, 'mousedown', this.clickHandler, this);\r\n            }\r\n            if (this.parent.list.classList.contains('e-nodata') || (this.parent.listData && this.parent.listData.length <= 1 &&\r\n                !(this.parent.isDynamicDataChange)) || (this.parent.isDynamicDataChange &&\r\n                this.parent.listData && this.parent.listData.length <= 1)) {\r\n                this.checkAllParent.style.display = 'none';\r\n            }\r\n            else {\r\n                this.checkAllParent.style.display = 'block';\r\n            }\r\n            this.parent.selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\r\n        }\r\n        else if (!isNullOrUndefined(this.checkAllParent)) {\r\n            this.checkAllParent.parentElement.removeChild(this.checkAllParent);\r\n            this.checkAllParent = null;\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.destroy = function () {\r\n        this.removeEventListener();\r\n        EventHandler.remove(document, 'mousedown', this.onDocumentClick);\r\n        this.checkAllParent = null;\r\n        this.clearIconElement = null;\r\n        this.filterInput = null;\r\n        this.filterInputObj = null;\r\n        this.checkWrapper = null;\r\n        this.selectAllSpan = null;\r\n    };\r\n    CheckBoxSelection.prototype.listSelection = function (args) {\r\n        var target;\r\n        if (!isNullOrUndefined(args.e)) {\r\n            var frameElm = args.li.querySelector('.e-checkbox-wrapper .e-frame');\r\n            target = !isNullOrUndefined(args.e.target) ?\r\n                (args.e.target.classList.contains('e-frame')\r\n                    && (!this.parent.showSelectAll\r\n                        || (this.checkAllParent && !this.checkAllParent.contains(args.e.target)))) ?\r\n                    args.e.target : args.li.querySelector('.e-checkbox-wrapper').childNodes[1]\r\n                : args.li.querySelector('.e-checkbox-wrapper').childNodes[1];\r\n        }\r\n        else {\r\n            var checkboxWrapper = args.li.querySelector('.e-checkbox-wrapper');\r\n            target = checkboxWrapper ? checkboxWrapper.childNodes[1] : args.li.lastElementChild.childNodes[1];\r\n        }\r\n        if (this.parent.itemTemplate || this.parent.enableGroupCheckBox) {\r\n            target = args.li.firstElementChild.childNodes[1];\r\n        }\r\n        if (!isNullOrUndefined(target)) {\r\n            this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\r\n        }\r\n        if (!isNullOrUndefined(this.checkWrapper)) {\r\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\r\n            var selectAll = false;\r\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), args.li, args.e, selectAll);\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.validateCheckNode = function (checkWrap, isCheck, li, e, selectAll) {\r\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true, selectAll);\r\n    };\r\n    CheckBoxSelection.prototype.clickHandler = function (e) {\r\n        var target;\r\n        if (e.currentTarget.classList.contains(this.checkAllParent.className) || (e.currentTarget.classList.value === this.checkAllParent.className)) {\r\n            target = e.currentTarget.firstElementChild.lastElementChild;\r\n        }\r\n        else {\r\n            target = e.currentTarget;\r\n        }\r\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\r\n        var selectAll = true;\r\n        if (!isNullOrUndefined(this.checkWrapper)) {\r\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\r\n            this.validateCheckNode(this.checkWrapper, checkElement.classList.contains(CHECK), null, e, selectAll);\r\n        }\r\n        e.preventDefault();\r\n    };\r\n    CheckBoxSelection.prototype.changeState = function (wrapper, state, e, isPrevent, selectAll) {\r\n        var ariaState;\r\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\r\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\r\n            frameSpan.classList.remove(INDETERMINATE);\r\n            frameSpan.classList.add(CHECK);\r\n            ariaState = 'true';\r\n            if (selectAll) {\r\n                this.parent.selectAllItems(true, e);\r\n                this.setLocale(true);\r\n            }\r\n        }\r\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\r\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\r\n            ariaState = 'false';\r\n            if (selectAll) {\r\n                this.parent.selectAllItems(false, e);\r\n                this.setLocale();\r\n            }\r\n        }\r\n        else if (state === 'indeterminate' && !(frameSpan.classList.contains(INDETERMINATE))) {\r\n            removeClass([frameSpan], [CHECK]);\r\n            frameSpan.classList.add(INDETERMINATE);\r\n            ariaState = 'false';\r\n            if (selectAll) {\r\n                this.parent.selectAllItems(false, e);\r\n                this.setLocale();\r\n            }\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.setSearchBox = function (args) {\r\n        if (isNullOrUndefined(this.parent.filterParent)) {\r\n            this.parent.filterParent = this.parent.createElement('span', {\r\n                className: filterParent\r\n            });\r\n            this.filterInput = this.parent.createElement('input', {\r\n                attrs: { type: 'text' },\r\n                className: filterInput\r\n            });\r\n            this.parent.element.parentNode.insertBefore(this.filterInput, this.parent.element);\r\n            var backIcon = false;\r\n            if (Browser.isDevice) {\r\n                backIcon = true;\r\n                this.parent.mobFilter = false;\r\n            }\r\n            this.filterInputObj = Input.createInput({\r\n                element: this.filterInput,\r\n                buttons: backIcon ? [searchBackIcon, filterBarClearIcon] : [filterBarClearIcon],\r\n                properties: { placeholder: this.parent.filterBarPlaceholder }\r\n            }, this.parent.createElement);\r\n            if (!isNullOrUndefined(this.parent.cssClass)) {\r\n                if (this.parent.cssClass.split(' ').indexOf('e-outline') !== -1) {\r\n                    addClass([this.filterInputObj.container], 'e-outline');\r\n                }\r\n                else if (this.parent.cssClass.split(' ').indexOf('e-filled') !== -1) {\r\n                    addClass([this.filterInputObj.container], 'e-filled');\r\n                }\r\n            }\r\n            append([this.filterInputObj.container], this.parent.filterParent);\r\n            prepend([this.parent.filterParent], args.popupElement);\r\n            attributes(this.filterInput, {\r\n                'aria-disabled': 'false',\r\n                'role': 'combobox',\r\n                'autocomplete': 'off',\r\n                'autocapitalize': 'off',\r\n                'spellcheck': 'false'\r\n            });\r\n            this.clearIconElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\r\n            if (!Browser.isDevice && this.clearIconElement) {\r\n                EventHandler.add(this.clearIconElement, 'mousedown', this.clearText, this);\r\n                this.clearIconElement.style.visibility = 'hidden';\r\n            }\r\n            EventHandler.add(this.filterInput, 'input', this.parent.onInput, this.parent);\r\n            EventHandler.add(this.filterInput, 'keyup', this.parent.keyUp, this.parent);\r\n            EventHandler.add(this.filterInput, 'keydown', this.parent.onKeyDown, this.parent);\r\n            EventHandler.add(this.filterInput, 'blur', this.onBlurHandler, this);\r\n            EventHandler.add(this.filterInput, 'paste', this.parent.pasteHandler, this.parent);\r\n            this.parent.searchBoxHeight = (this.filterInputObj.container.parentElement).getBoundingClientRect().height;\r\n            return this.filterInputObj;\r\n        }\r\n    };\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    CheckBoxSelection.prototype.clickOnBackIcon = function (e) {\r\n        this.parent.hidePopup();\r\n        removeClass([document.body, this.parent.popupObj.element], popupFullScreen);\r\n        this.parent.inputElement.focus();\r\n    };\r\n    CheckBoxSelection.prototype.clearText = function (e) {\r\n        this.parent.targetInputElement.value = '';\r\n        if (this.parent.allowFiltering && this.parent.targetInputElement.value === '') {\r\n            this.parent.search(null);\r\n        }\r\n        this.parent.refreshPopup();\r\n        this.parent.refreshListItems(null);\r\n        this.clearIconElement.style.visibility = 'hidden';\r\n        this.filterInput.focus();\r\n        this.setReorder(e);\r\n        e.preventDefault();\r\n    };\r\n    CheckBoxSelection.prototype.setDeviceSearchBox = function () {\r\n        this.parent.popupObj.element.classList.add(device);\r\n        this.parent.popupObj.element.classList.add(mobileFilter);\r\n        this.parent.popupObj.position = { X: 0, Y: 0 };\r\n        this.parent.popupObj.dataBind();\r\n        this.setSearchBoxPosition();\r\n        this.backIconElement = this.filterInputObj.container.querySelector('.e-back-icon');\r\n        this.clearIconElement = this.filterInputObj.container.querySelector('.' + clearIcon);\r\n        this.clearIconElement.style.visibility = 'hidden';\r\n        EventHandler.add(this.backIconElement, 'click', this.clickOnBackIcon, this);\r\n        EventHandler.add(this.clearIconElement, 'click', this.clearText, this);\r\n    };\r\n    CheckBoxSelection.prototype.setSearchBoxPosition = function () {\r\n        var searchBoxHeight = this.filterInput.parentElement.getBoundingClientRect().height;\r\n        var selectAllHeight = 0;\r\n        if (this.checkAllParent) {\r\n            selectAllHeight = this.checkAllParent.getBoundingClientRect().height;\r\n        }\r\n        this.parent.popupObj.element.style.maxHeight = '100%';\r\n        this.parent.popupObj.element.style.width = '100%';\r\n        this.parent.list.style.maxHeight = (window.innerHeight - searchBoxHeight - selectAllHeight) + 'px';\r\n        this.parent.list.style.height = (window.innerHeight - searchBoxHeight - selectAllHeight) + 'px';\r\n        var clearElement = this.filterInput.parentElement.querySelector('.' + clearIcon);\r\n        detach(this.filterInput);\r\n        clearElement.parentElement.insertBefore(this.filterInput, clearElement);\r\n    };\r\n    CheckBoxSelection.prototype.setPopupFullScreen = function () {\r\n        if (this.parent && this.parent.popupObj) {\r\n            attributes(this.parent.popupObj.element, { style: 'left:0px;right:0px;top:0px;bottom:0px;' });\r\n            addClass([document.body, this.parent.popupObj.element], popupFullScreen);\r\n            this.parent.popupObj.element.style.maxHeight = '100%';\r\n            this.parent.popupObj.element.style.width = '100%';\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.targetElement = function () {\r\n        if (!isNullOrUndefined(this.clearIconElement)) {\r\n            this.parent.targetInputElement = this.filterInput;\r\n            this.clearIconElement.style.visibility = this.parent.targetInputElement.value === '' ? 'hidden' : 'visible';\r\n        }\r\n        return this.parent.targetInputElement.value;\r\n    };\r\n    CheckBoxSelection.prototype.onBlurHandler = function (e) {\r\n        if (!this.parent.element.classList.contains('e-listbox')) {\r\n            var target = void 0;\r\n            if (this.parent.keyAction) {\r\n                return;\r\n            }\r\n            if (Browser.isIE) {\r\n                target = !isNullOrUndefined(e) && e.target;\r\n            }\r\n            if (!Browser.isIE) {\r\n                target = !isNullOrUndefined(e) && e.relatedTarget;\r\n            }\r\n            // eslint-disable-next-line max-len\r\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) && this.parent.popupObj.element.contains(target)\r\n                && !Browser.isIE && this.filterInput) {\r\n                this.filterInput.focus();\r\n                return;\r\n            }\r\n            if (this.parent.scrollFocusStatus && this.filterInput) {\r\n                e.preventDefault();\r\n                this.filterInput.focus();\r\n                this.parent.scrollFocusStatus = false;\r\n                return;\r\n            }\r\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element)\r\n                && !this.parent.popupObj.element.classList.contains('e-popup-close')) {\r\n                this.parent.inputFocus = false;\r\n                this.parent.updateValueState(e, this.parent.value, this.parent.tempValues);\r\n                this.parent.dispatchEvent(this.parent.hiddenElement, 'change');\r\n            }\r\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) &&\r\n                !this.parent.popupObj.element.classList.contains('e-popup-close')) {\r\n                this.parent.inputFocus = false;\r\n                this.parent.overAllWrapper.classList.remove(FOCUS);\r\n                this.parent.trigger('blur');\r\n                this.parent.focused = true;\r\n            }\r\n            if (this.parent.popupObj && document.body.contains(this.parent.popupObj.element) &&\r\n                !this.parent.popupObj.element.classList.contains('e-popup-close') && !Browser.isDevice) {\r\n                this.parent.hidePopup();\r\n            }\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.onDocumentClick = function (e) {\r\n        if (this.parent.getLocaleName() !== 'listbox') {\r\n            var target = e.target;\r\n            if (!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]')) {\r\n                if (!(this.filterInput && this.filterInput.value !== '')) {\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n            if (!(!isNullOrUndefined(this.parent.popupObj) && closest(target, '[id=\"' + this.parent.popupObj.element.id + '\"]'))\r\n                && !isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target)) {\r\n                if (this.parent.overAllWrapper.classList.contains(dropDownBaseClasses.focus) || this.parent.isPopupOpen()) {\r\n                    this.parent.inputFocus = false;\r\n                    this.parent.scrollFocusStatus = false;\r\n                    this.parent.hidePopup();\r\n                    this.parent.onBlurHandler(e, true);\r\n                    this.parent.focused = true;\r\n                }\r\n            }\r\n            else {\r\n                this.parent.scrollFocusStatus = (Browser.isIE || Browser.info.name === 'edge') &&\r\n                    (document.activeElement === this.filterInput);\r\n            }\r\n            if (!isNullOrUndefined(this.parent.overAllWrapper) && !this.parent.overAllWrapper.contains(e.target) && this.parent.overAllWrapper.classList.contains('e-input-focus') &&\r\n                !this.parent.isPopupOpen()) {\r\n                if (Browser.isIE) {\r\n                    this.parent.onBlurHandler();\r\n                }\r\n                else {\r\n                    this.parent.onBlurHandler(e);\r\n                }\r\n            }\r\n            if (this.filterInput === target) {\r\n                this.filterInput.focus();\r\n            }\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.getFocus = function (e) {\r\n        this.parent.overAllWrapper.classList.remove(FOCUS);\r\n        if (this.parent.keyAction && e.value !== 'clear' && e.value !== 'focus') {\r\n            this.parent.keyAction = false;\r\n            return;\r\n        }\r\n        if (e.value === 'focus') {\r\n            this.filterInput.focus();\r\n            this.parent.removeFocus();\r\n            EventHandler.remove(this.parent.list, 'keydown', this.parent.onKeyDown);\r\n        }\r\n        if (e.value === 'clear') {\r\n            this.filterInput.value = '';\r\n            this.clearIconElement.style.visibility = 'hidden';\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.checkSelectAll = function (e) {\r\n        if (e.value === 'check') {\r\n            this.changeState(this.checkAllParent, e.value, null, null, false);\r\n            this.setLocale(true);\r\n        }\r\n        if (e.value === 'uncheck') {\r\n            this.changeState(this.checkAllParent, e.value, null, null, false);\r\n            this.setLocale();\r\n        }\r\n        if (e.value === 'indeterminate') {\r\n            this.changeState(this.checkAllParent, e.value, null, null, false);\r\n            this.setLocale();\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.setLocale = function (unSelect) {\r\n        if (this.parent.selectAllText !== 'Select All' || this.parent.unSelectAllText !== 'Unselect All') {\r\n            var template = unSelect ? this.parent.unSelectAllText : this.parent.selectAllText;\r\n            this.selectAllSpan.textContent = '';\r\n            var compiledString = compile(template);\r\n            var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\r\n            for (var _i = 0, _a = compiledString({}, this.parent, templateName, null, !this.parent.isStringTemplate); _i < _a.length; _i++) {\r\n                var item = _a[_i];\r\n                this.selectAllSpan.textContent = item.textContent;\r\n            }\r\n        }\r\n        else {\r\n            var l10nLocale = { selectAllText: 'Select All', unSelectAllText: 'Unselect All' };\r\n            var l10n = new L10n(this.parent.getLocaleName(), {}, this.parent.locale);\r\n            if (l10n.getConstant('selectAllText') === '') {\r\n                l10n = new L10n('dropdowns', l10nLocale, this.parent.locale);\r\n            }\r\n            this.selectAllSpan.textContent = unSelect ? l10n.getConstant('unSelectAllText') : l10n.getConstant('selectAllText');\r\n        }\r\n    };\r\n    CheckBoxSelection.prototype.getActiveList = function (args) {\r\n        if (args.li.classList.contains('e-active')) {\r\n            this.activeLi.push(args.li.cloneNode(true));\r\n        }\r\n        else {\r\n            this.activeLi.splice(args.index, 1);\r\n        }\r\n    };\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    CheckBoxSelection.prototype.setReorder = function (args) {\r\n        if (this.parent.enableSelectionOrder && !isNullOrUndefined(this.parent.value)) {\r\n            var activeLiCount = this.parent.ulElement.querySelectorAll('li.e-active').length;\r\n            var remLi = void 0;\r\n            var ulEle_1 = this.parent.createElement('ul', {\r\n                className: 'e-list-parent e-ul e-reorder'\r\n            });\r\n            if (activeLiCount > 0) {\r\n                var activeListItems = this.parent.ulElement.querySelectorAll('li.e-active');\r\n                activeListItems.forEach(function (item) {\r\n                    ulEle_1.appendChild(item);\r\n                });\r\n                remLi = this.parent.ulElement.querySelectorAll('li.e-active');\r\n                addClass(remLi, 'e-reorder-hide');\r\n                prepend([ulEle_1], this.parent.list);\r\n            }\r\n            this.parent.focusAtFirstListItem();\r\n        }\r\n    };\r\n    return CheckBoxSelection;\r\n}());\r\nexport { CheckBoxSelection };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}